import base64
exec(base64.b64decode("IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KZnJvbSBvcyBpbXBvcnQgc3lzdGVtLCBuYW1lCmltcG9ydCBvcywgdGhyZWFkaW5nLCByZXF1ZXN0cywgc3lzLCBjbG91ZHNjcmFwZXIsIGRhdGV0aW1lLCB0aW1lLCBzb2NrZXQsIHNzbCwgcmFuZG9tLCBodHRweApmcm9tIHVybGxpYi5wYXJzZSBpbXBvcnQgdXJscGFyc2UKZnJvbSByZXF1ZXN0cy5jb29raWVzIGltcG9ydCBSZXF1ZXN0c0Nvb2tpZUphcgppbXBvcnQgdW5kZXRlY3RlZF9jaHJvbWVkcml2ZXIgYXMgd2ViZHJpdmVyCmZyb20gc3lzIGltcG9ydCBzdGRvdXQKZnJvbSBjb2xvcmFtYSBpbXBvcnQgRm9yZSwgaW5pdAp1bmFtZT1pbnB1dCgiRW50ZXIgU2VydmVyIFVzZXJuYW1lIDogIikKb3Muc3lzdGVtKCJjbHMiIGlmIG9zLm5hbWUgPT0gIm50IiBlbHNlICJjbGVhciIpCnByaW50KGYiV2VsY29tZSBUbyBTZXJ2ZXIgfCBVc2VyOiB7dW5hbWV9IikKcHJpbnQoInBsZWFzZSB3YWl0LiIpCnRpbWUuc2xlZXAoMC4zKQpvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZSA9PSAibnQiIGVsc2UgImNsZWFyIikKcHJpbnQoZiJXZWxjb21lIFRvIFNlcnZlciB8IFVzZXI6IHt1bmFtZX0iKQpwcmludCgicGxlYXNlIHdhaXQuLiIpCnRpbWUuc2xlZXAoMC4zKQpvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZSA9PSAibnQiIGVsc2UgImNsZWFyIikKcHJpbnQoZiJXZWxjb21lIFRvIFNlcnZlciB8IFVzZXI6IHt1bmFtZX0iKQpwcmludCgicGxlYXNlIHdhaXQuLi4iKQppcD0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5pcGlmeS5vcmcnKS50ZXh0LnN0cmlwKCkKb25saW5lPSByYW5kb20ucmFuZGludCgxLCAxNTMpCmRlZiBjb3VudGRvd24odCk6CiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgd2hpbGUgVHJ1ZToKICAgICAgICBpZiAodW50aWwgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICAgICAgc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgc3Rkb3V0LndyaXRlKCJcciAiZiIiIgrilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBbQXR0YWNrIHRpbWVd4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXICAgICAKICAgIFRpbWU6IHtzdHIoKHVudGlsIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSl9ICAgICAgICAgICAgICAgICAgICAgICAgIArilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0iIiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgc3Rkb3V0LndyaXRlKCJcciAiK0ZvcmUuTUFHRU5UQSsiWypdIitGb3JlLldISVRFKyIgQXR0YWNrIERvbmUgISAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4iKQogICAgICAgICAgICByZXR1cm4KI3JlZ2lvbiBnZXQKZGVmIGdldF90YXJnZXQodXJsKToKICAgIHVybCA9IHVybC5yc3RyaXAoKQogICAgdGFyZ2V0ID0ge30KICAgIHRhcmdldFsndXJpJ10gPSB1cmxwYXJzZSh1cmwpLnBhdGgKICAgIGlmIHRhcmdldFsndXJpJ10gPT0gIiI6CiAgICAgICAgdGFyZ2V0Wyd1cmknXSA9ICIvIgogICAgdGFyZ2V0Wydob3N0J10gPSB1cmxwYXJzZSh1cmwpLm5ldGxvYwogICAgdGFyZ2V0WydzY2hlbWUnXSA9IHVybHBhcnNlKHVybCkuc2NoZW1lCiAgICBpZiAiOiIgaW4gdXJscGFyc2UodXJsKS5uZXRsb2M6CiAgICAgICAgdGFyZ2V0Wydwb3J0J10gPSB1cmxwYXJzZSh1cmwpLm5ldGxvYy5zcGxpdCgiOiIpWzFdCiAgICBlbHNlOgogICAgICAgIHRhcmdldFsncG9ydCddID0gIjQ0MyIgaWYgdXJscGFyc2UodXJsKS5zY2hlbWUgPT0gImh0dHBzIiBlbHNlICI4MCIKICAgICAgICBwYXNzCiAgICByZXR1cm4gdGFyZ2V0CgpkZWYgZ2V0X3Byb3h5bGlzdCh0eXBlKToKICAgIGlmIHR5cGUgPT0gIlNPQ0tTNSI6CiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9hcGkucHJveHlzY3JhcGUuY29tLz9yZXF1ZXN0PWRpc3BsYXlwcm94aWVzJnByb3h5dHlwZT1zb2NrczUmdGltZW91dD0xMDAwMCZjb3VudHJ5PWFsbCIpLnRleHQKICAgICAgICByICs9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly93d3cucHJveHktbGlzdC5kb3dubG9hZC9hcGkvdjEvZ2V0P3R5cGU9c29ja3M1IikudGV4dAogICAgICAgIG9wZW4oIi4vcmVzb3VyY2VzL3NvY2tzNS50eHQiLCAndycpLndyaXRlKHIpCiAgICAgICAgciA9IHIucnN0cmlwKCkuc3BsaXQoJ1xyXG4nKQogICAgICAgIHJldHVybiByCiAgICBlbGlmIHR5cGUgPT0gIkhUVFAiOgogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm94eXR5cGU9aHR0cCZ0aW1lb3V0PTEwMDAwJmNvdW50cnk9YWxsIikudGV4dAogICAgICAgIHIgKz0gcmVxdWVzdHMuZ2V0KCJodHRwczovL3d3dy5wcm94eS1saXN0LmRvd25sb2FkL2FwaS92MS9nZXQ/dHlwZT1odHRwIikudGV4dAogICAgICAgIG9wZW4oIi4vcmVzb3VyY2VzL2h0dHAudHh0IiwgJ3cnKS53cml0ZShyKQogICAgICAgIHIgPSByLnJzdHJpcCgpLnNwbGl0KCdcclxuJykKICAgICAgICByZXR1cm4gcgoKZGVmIGdldF9wcm94aWVzKCk6CiAgICBnbG9iYWwgcHJveGllcwogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKCIuL3Byb3h5LnR4dCIpOgogICAgICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiBbKl0iK0ZvcmUuV0hJVEUrIiBZb3UgTmVlZCBQcm94eSBGaWxlICggLi9wcm94eS50eHQgKVxuIikKICAgICAgICByZXR1cm4gRmFsc2UKICAgIHByb3hpZXMgPSBvcGVuKCIuL3Byb3h5LnR4dCIsICdyJykucmVhZCgpLnNwbGl0KCdcbicpCiAgICByZXR1cm4gVHJ1ZQoKZGVmIGdldF9jb29raWUodXJsKToKICAgIGdsb2JhbCB1c2VyYWdlbnQsIGNvb2tpZUpBUiwgY29va2llCiAgICBvcHRpb25zID0gd2ViZHJpdmVyLkNocm9tZU9wdGlvbnMoKQogICAgYXJndW1lbnRzID0gWwogICAgJy0tbm8tc2FuZGJveCcsICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnLCAnLS1kaXNhYmxlLWluZm9iYXJzJywgJy0tZGlzYWJsZS1sb2dnaW5nJywgJy0tZGlzYWJsZS1sb2dpbi1hbmltYXRpb25zJywKICAgICctLWRpc2FibGUtbm90aWZpY2F0aW9ucycsICctLWRpc2FibGUtZ3B1JywgJy0taGVhZGxlc3MnLCAnLS1sYW5nPWtvX0tSJywgJy0tc3RhcnQtbWF4bWl6ZWQnLAogICAgJy0tdXNlci1hZ2VudD1Nb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDEwXzNfMyBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDMuMy44IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE0RzYwIE1pY3JvTWVzc2VuZ2VyLzYuNS4xOCBOZXRUeXBlL1dJRkkgTGFuZ3VhZ2UvZW4nIAogICAgXQogICAgZm9yIGFyZ3VtZW50IGluIGFyZ3VtZW50czoKICAgICAgICBvcHRpb25zLmFkZF9hcmd1bWVudChhcmd1bWVudCkKICAgIGRyaXZlciA9IHdlYmRyaXZlci5DaHJvbWUob3B0aW9ucz1vcHRpb25zKQogICAgZHJpdmVyLmltcGxpY2l0bHlfd2FpdCgzKQogICAgZHJpdmVyLmdldCh1cmwpCiAgICBmb3IgXyBpbiByYW5nZSg2MCk6CiAgICAgICAgY29va2llcyA9IGRyaXZlci5nZXRfY29va2llcygpCiAgICAgICAgdHJ5eSA9IDAKICAgICAgICBmb3IgaSBpbiBjb29raWVzOgogICAgICAgICAgICBpZiBpWyduYW1lJ10gPT0gJ2NmX2NsZWFyYW5jZSc6CiAgICAgICAgICAgICAgICBjb29raWVKQVIgPSBkcml2ZXIuZ2V0X2Nvb2tpZXMoKVt0cnl5XQogICAgICAgICAgICAgICAgdXNlcmFnZW50ID0gZHJpdmVyLmV4ZWN1dGVfc2NyaXB0KCJyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudCIpCiAgICAgICAgICAgICAgICBjb29raWUgPSBmIntjb29raWVKQVJbJ25hbWUnXX09e2Nvb2tpZUpBUlsndmFsdWUnXX0iCiAgICAgICAgICAgICAgICBkcml2ZXIucXVpdCgpCiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgdHJ5eSArPSAxCiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgdGltZS5zbGVlcCgxKQogICAgZHJpdmVyLnF1aXQoKQogICAgcmV0dXJuIEZhbHNlCgpkZWYgc3Bvb2YodGFyZ2V0KToKICAgIGFkZHIgPSBbMTkyLCAxNjgsIDAsIDFdCiAgICBkID0gJy4nCiAgICBhZGRyWzBdID0gc3RyKHJhbmRvbS5yYW5kcmFuZ2UoMTEsIDE5NykpCiAgICBhZGRyWzFdID0gc3RyKHJhbmRvbS5yYW5kcmFuZ2UoMCwgMjU1KSkKICAgIGFkZHJbMl0gPSBzdHIocmFuZG9tLnJhbmRyYW5nZSgwLCAyNTUpKQogICAgYWRkclszXSA9IHN0cihyYW5kb20ucmFuZHJhbmdlKDIsIDI1NCkpCiAgICBzcG9vZmlwID0gYWRkclswXSArIGQgKyBhZGRyWzFdICsgZCArIGFkZHJbMl0gKyBkICsgYWRkclszXQogICAgcmV0dXJuICgKICAgICAgICAiWC1Gb3J3YXJkZWQtUHJvdG86IEh0dHBcclxuIgogICAgICAgIGYiWC1Gb3J3YXJkZWQtSG9zdDoge3RhcmdldFsnaG9zdCddfSwgMS4xLjEuMVxyXG4iCiAgICAgICAgZiJWaWE6IHtzcG9vZmlwfVxyXG4iCiAgICAgICAgZiJDbGllbnQtSVA6IHtzcG9vZmlwfVxyXG4iCiAgICAgICAgZidYLUZvcndhcmRlZC1Gb3I6IHtzcG9vZmlwfVxyXG4nCiAgICAgICAgZidSZWFsLUlQOiB7c3Bvb2ZpcH1cclxuJwogICAgKQoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgZ2V0X2luZm9fbDcoKToKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdtIOKAoiAiK0ZvcmUuV0hJVEUrIlVSTCAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIjogIitGb3JlLkxJR0hUR1JFRU5fRVgpCiAgICB0YXJnZXQgPSBpbnB1dCgpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7MjsyNTU7MjA7MTQ3bSDigKIgIitGb3JlLldISVRFKyJUSFJFQUQgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyI6ICIrRm9yZS5MSUdIVEdSRUVOX0VYKQogICAgdGhyZWFkID0gaW5wdXQoKQogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N20g4oCiICIrRm9yZS5XSElURSsiVElNRShzKSAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiOiAiK0ZvcmUuTElHSFRHUkVFTl9FWCkKICAgIHQgPSBpbnB1dCgpCiAgICByZXR1cm4gdGFyZ2V0LCB0aHJlYWQsIHQKCmRlZiBnZXRfaW5mb19sNCgpOgogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N20g4oCiICIrRm9yZS5XSElURSsiSVAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiOiAiK0ZvcmUuTElHSFRHUkVFTl9FWCkKICAgIHRhcmdldCA9IGlucHV0KCkKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdtIOKAoiAiK0ZvcmUuV0hJVEUrIlBPUlQgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIjogIitGb3JlLkxJR0hUR1JFRU5fRVgpCiAgICBwb3J0ID0gaW5wdXQoKQogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MjU1OzIwOzE0N20g4oCiICIrRm9yZS5XSElURSsiVEhSRUFEICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiOiAiK0ZvcmUuTElHSFRHUkVFTl9FWCkKICAgIHRocmVhZCA9IGlucHV0KCkKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdtIOKAoiAiK0ZvcmUuV0hJVEUrIlRJTUUocykgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIjogIitGb3JlLkxJR0hUR1JFRU5fRVgpCiAgICB0ID0gaW5wdXQoKQogICAgcmV0dXJuIHRhcmdldCwgcG9ydCwgdGhyZWFkLCB0CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiNyZWdpb24gbGF5ZXI0CmRlZiBydW5mbG9vZGVyKGhvc3QsIHBvcnQsIHRoLCB0KToKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICByYW5kID0gcmFuZG9tLl91cmFuZG9tKDQwOTYpCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWZsb29kZXIsIGFyZ3M9KGhvc3QsIHBvcnQsIHJhbmQsIHVudGlsKSkKICAgICAgICAgICAgdGhkLnN0YXJ0KCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBmbG9vZGVyKGhvc3QsIHBvcnQsIHJhbmQsIHVudGlsX2RhdGV0aW1lKToKICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuSVBQUk9UT19JR01QKQogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzb2NrLnNlbmR0byhyYW5kLCAoaG9zdCwgaW50KHBvcnQpKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHNvY2suY2xvc2UoKQogICAgICAgICAgICBwYXNzCgoKZGVmIHJ1bnNlbmRlcihob3N0LCBwb3J0LCB0aCwgdCwgcGF5bG9hZCk6CiAgICBpZiBwYXlsb2FkID09ICIiOgogICAgICAgIHBheWxvYWQgPSByYW5kb20uX3VyYW5kb20oNjAwMDApCiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgI3BheWxvYWQgPSBQYXlsb2Fkc1ttZXRob2RdCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbmRlciwgYXJncz0oaG9zdCwgcG9ydCwgdW50aWwsIHBheWxvYWQpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIHNlbmRlcihob3N0LCBwb3J0LCB1bnRpbF9kYXRldGltZSwgcGF5bG9hZCk6CiAgICBzb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfREdSQU0pCiAgICBzb2NrLnNldHNvY2tvcHQoc29ja2V0LlNPTF9TT0NLRVQsIHNvY2tldC5TT19SRVVTRUFERFIsIDEpCiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNvY2suc2VuZHRvKHBheWxvYWQsIChob3N0LCBpbnQocG9ydCkpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgc29jay5jbG9zZSgpCiAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgCiNlbmRyZWdpb24KCiNyZWdpb24gTUVUSE9ECgojcmVnaW9uIEhFQUQKCmRlZiBMYXVuY2godXJsLCB0aCwgdCwgbWV0aG9kKTogI3Rlc3RpbmcKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGV4ZWMoInRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUF0dGFjayIrbWV0aG9kKyIsIGFyZ3M9KHVybCwgdW50aWwpKS5zdGFydCgpIikKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCgpkZWYgTGF1bmNoSEVBRCh1cmwsIHRoLCB0KToKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUF0dGFja0hFQUQsIGFyZ3M9KHVybCwgdW50aWwpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja0hFQUQodXJsLCB1bnRpbF9kYXRldGltZSk6CiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJlcXVlc3RzLmhlYWQodXJsKQogICAgICAgICAgICByZXF1ZXN0cy5oZWFkKHVybCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBQT1NUCmRlZiBMYXVuY2hQT1NUKHVybCwgdGgsIHQpOgogICAgdW50aWwgPSBkYXRldGltZS5kYXRldGltZS5ub3coKSArIGRhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPWludCh0KSkKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrUE9TVCwgYXJncz0odXJsLCB1bnRpbCkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgQXR0YWNrUE9TVCh1cmwsIHVudGlsX2RhdGV0aW1lKToKICAgIHdoaWxlICh1bnRpbF9kYXRldGltZSAtIGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKS50b3RhbF9zZWNvbmRzKCkgPiAwOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVxdWVzdHMucG9zdCh1cmwpCiAgICAgICAgICAgIHJlcXVlc3RzLnBvc3QodXJsKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwojZW5kcmVnaW9uCgojcmVnaW9uIFJBVwpkZWYgTGF1bmNoUkFXKHVybCwgdGgsIHQpOgogICAgdW50aWwgPSBkYXRldGltZS5kYXRldGltZS5ub3coKSArIGRhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPWludCh0KSkKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrUkFXLCBhcmdzPSh1cmwsIHVudGlsKSkKICAgICAgICAgICAgdGhkLnN0YXJ0KCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBBdHRhY2tSQVcodXJsLCB1bnRpbF9kYXRldGltZSk6CiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJlcXVlc3RzLmdldCh1cmwpCiAgICAgICAgICAgIHJlcXVlc3RzLmdldCh1cmwpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiNlbmRyZWdpb24KCiNyZWdpb24gUFhSQVcKZGVmIExhdW5jaFBYUkFXKHVybCwgdGgsIHQpOgogICAgdW50aWwgPSBkYXRldGltZS5kYXRldGltZS5ub3coKSArIGRhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPWludCh0KSkKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrUFhSQVcsIGFyZ3M9KHVybCwgdW50aWwpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja1BYUkFXKHVybCwgdW50aWxfZGF0ZXRpbWUpOgogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgcHJveHkgPSAnaHR0cDovLycrc3RyKHJhbmRvbS5jaG9pY2UobGlzdChwcm94aWVzKSkpCiAgICAgICAgcHJveHkgPSB7CiAgICAgICAgICAgICdodHRwJzogcHJveHksICAgCiAgICAgICAgICAgICdodHRwcyc6IHByb3h5LAogICAgICAgIH0KICAgICAgICB0cnk6CiAgICAgICAgICAgIHJlcXVlc3RzLmdldCh1cmwsIHByb3hpZXM9cHJveHkpCiAgICAgICAgICAgIHJlcXVlc3RzLmdldCh1cmwsIHByb3hpZXM9cHJveHkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiNlbmRyZWdpb24KCiNyZWdpb24gUFhTT0MKZGVmIExhdW5jaFBYU09DKHVybCwgdGgsIHQpOgogICAgdGFyZ2V0ID0gZ2V0X3RhcmdldCh1cmwpCiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgcmVxID0gICJHRVQgIiArdGFyZ2V0Wyd1cmknXSArICIgSFRUUC8xLjFcclxuIgogICAgcmVxICs9ICJIb3N0OiAiICsgdGFyZ2V0Wydob3N0J10gKyAiXHJcbiIKICAgIHJlcSArPSAiVXNlci1BZ2VudDogIiArIHJhbmRvbS5jaG9pY2UodWEpICsgIlxyXG4iCiAgICByZXEgKz0gIkFjY2VwdDogdGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45XHJcbiciCiAgICByZXEgKz0gIkNvbm5lY3Rpb246IEtlZXAtQWxpdmVcclxuXHJcbiIKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrUFhTT0MsIGFyZ3M9KHRhcmdldCwgdW50aWwsIHJlcSkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgQXR0YWNrUFhTT0ModGFyZ2V0LCB1bnRpbF9kYXRldGltZSwgcmVxKToKICAgIHdoaWxlICh1bnRpbF9kYXRldGltZSAtIGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKS50b3RhbF9zZWNvbmRzKCkgPiAwOgogICAgICAgIHRyeToKICAgICAgICAgICAgcHJveHkgPSByYW5kb20uY2hvaWNlKGxpc3QocHJveGllcykpLnNwbGl0KCI6IikKICAgICAgICAgICAgaWYgdGFyZ2V0WydzY2hlbWUnXSA9PSAnaHR0cHMnOgogICAgICAgICAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgICAgICAgICAgcy5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX1RDUCwgc29ja2V0LlRDUF9OT0RFTEFZLCAxKQogICAgICAgICAgICAgICAgcy5zZXRfcHJveHkoc29ja3MuSFRUUCwgc3RyKHByb3h5WzBdKSwgaW50KHByb3h5WzFdKSkKICAgICAgICAgICAgICAgIHMuY29ubmVjdCgoc3RyKHRhcmdldFsnaG9zdCddKSwgaW50KHRhcmdldFsncG9ydCddKSkpCiAgICAgICAgICAgICAgICBzID0gc3NsLmNyZWF0ZV9kZWZhdWx0X2NvbnRleHQoKS53cmFwX3NvY2tldChzLCBzZXJ2ZXJfaG9zdG5hbWU9dGFyZ2V0Wydob3N0J10pCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzID0gc29ja3Muc29ja3NvY2tldCgpCiAgICAgICAgICAgICAgICBzLnNldHNvY2tvcHQoc29ja2V0LklQUFJPVE9fVENQLCBzb2NrZXQuVENQX05PREVMQVksIDEpCiAgICAgICAgICAgICAgICBzLnNldF9wcm94eShzb2Nrcy5IVFRQLCBzdHIocHJveHlbMF0pLCBpbnQocHJveHlbMV0pKQogICAgICAgICAgICAgICAgcy5jb25uZWN0KChzdHIodGFyZ2V0Wydob3N0J10pLCBpbnQodGFyZ2V0Wydwb3J0J10pKSkKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UoMTAwKToKICAgICAgICAgICAgICAgICAgICBzLnNlbmQoc3RyLmVuY29kZShyZXEpKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBzLmNsb3NlKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHJldHVybgojZW5kcmVnaW9uCgojcmVnaW9uIFNPQwpkZWYgTGF1bmNoU09DKHVybCwgdGgsIHQpOgogICAgdGFyZ2V0ID0gZ2V0X3RhcmdldCh1cmwpCiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgcmVxID0gICJHRVQgIit0YXJnZXRbJ3VyaSddKyIgSFRUUC8xLjFcclxuSG9zdDogIiArIHRhcmdldFsnaG9zdCddICsgIlxyXG4iCiAgICByZXEgKz0gIlVzZXItQWdlbnQ6ICIgKyByYW5kb20uY2hvaWNlKHVhKSArICJcclxuIgogICAgcmVxICs9ICJBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOVxyXG4nIgogICAgcmVxICs9ICJDb25uZWN0aW9uOiBLZWVwLUFsaXZlXHJcblxyXG4iCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUF0dGFja1NPQywgYXJncz0odGFyZ2V0LCB1bnRpbCwgcmVxKSkKICAgICAgICAgICAgdGhkLnN0YXJ0KCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBBdHRhY2tTT0ModGFyZ2V0LCB1bnRpbF9kYXRldGltZSwgcmVxKToKICAgIGlmIHRhcmdldFsnc2NoZW1lJ10gPT0gJ2h0dHBzJzoKICAgICAgICBzID0gc29ja3Muc29ja3NvY2tldCgpCiAgICAgICAgcy5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX1RDUCwgc29ja2V0LlRDUF9OT0RFTEFZLCAxKQogICAgICAgIHMuY29ubmVjdCgoc3RyKHRhcmdldFsnaG9zdCddKSwgaW50KHRhcmdldFsncG9ydCddKSkpCiAgICAgICAgcyA9IHNzbC5jcmVhdGVfZGVmYXVsdF9jb250ZXh0KCkud3JhcF9zb2NrZXQocywgc2VydmVyX2hvc3RuYW1lPXRhcmdldFsnaG9zdCddKQogICAgZWxzZToKICAgICAgICBzID0gc29ja3Muc29ja3NvY2tldCgpCiAgICAgICAgcy5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX1RDUCwgc29ja2V0LlRDUF9OT0RFTEFZLCAxKQogICAgICAgIHMuY29ubmVjdCgoc3RyKHRhcmdldFsnaG9zdCddKSwgaW50KHRhcmdldFsncG9ydCddKSkpCiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKDEwMCk6CiAgICAgICAgICAgICAgICAgICAgcy5zZW5kKHN0ci5lbmNvZGUocmVxKSkKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgcy5jbG9zZSgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCiNlbmRyZWdpb24KCmRlZiBMYXVuY2hQUFModXJsLCB0aCwgdCk6CiAgICB0YXJnZXQgPSBnZXRfdGFyZ2V0KHVybCkKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUF0dGFja1BQUywgYXJncz0odGFyZ2V0LCB1bnRpbCkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgQXR0YWNrUFBTKHRhcmdldCwgdW50aWxfZGF0ZXRpbWUpOiAjCiAgICBpZiB0YXJnZXRbJ3NjaGVtZSddID09ICdodHRwcyc6CiAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHMuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgICAgIHMgPSBzc2wuY3JlYXRlX2RlZmF1bHRfY29udGV4dCgpLndyYXBfc29ja2V0KHMsIHNlcnZlcl9ob3N0bmFtZT10YXJnZXRbJ2hvc3QnXSkKICAgIGVsc2U6CiAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHMuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmb3IgXyBpbiByYW5nZSgxMDApOgogICAgICAgICAgICAgICAgICAgIHMuc2VuZChzdHIuZW5jb2RlKCJHRVQgLyBIVFRQLzEuMVxyXG5cclxuIikpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHMuY2xvc2UoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIExhdW5jaE5VTEwodXJsLCB0aCwgdCk6CiAgICB0YXJnZXQgPSBnZXRfdGFyZ2V0KHVybCkKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICByZXEgPSAgIkdFVCAiK3RhcmdldFsndXJpJ10rIiBIVFRQLzEuMVxyXG5Ib3N0OiAiICsgdGFyZ2V0Wydob3N0J10gKyAiXHJcbiIKICAgIHJlcSArPSAiVXNlci1BZ2VudDogbnVsbFxyXG4iCiAgICByZXEgKz0gIlJlZmVycmVyOiBudWxsXHJcbiIKICAgIHJlcSArPSBzcG9vZih0YXJnZXQpICsgIlxyXG4iCiAgICBmb3IgXyBpbiByYW5nZShpbnQodGgpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUF0dGFja05VTEwsIGFyZ3M9KHRhcmdldCwgdW50aWwsIHJlcSkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBwYXNzCgpkZWYgQXR0YWNrTlVMTCh0YXJnZXQsIHVudGlsX2RhdGV0aW1lLCByZXEpOiAjCiAgICBpZiB0YXJnZXRbJ3NjaGVtZSddID09ICdodHRwcyc6CiAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHMuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgICAgIHMgPSBzc2wuY3JlYXRlX2RlZmF1bHRfY29udGV4dCgpLndyYXBfc29ja2V0KHMsIHNlcnZlcl9ob3N0bmFtZT10YXJnZXRbJ2hvc3QnXSkKICAgIGVsc2U6CiAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHMuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmb3IgXyBpbiByYW5nZSgxMDApOgogICAgICAgICAgICAgICAgICAgIHMuc2VuZChzdHIuZW5jb2RlKHJlcSkpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHMuY2xvc2UoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIExhdW5jaFNQT09GKHVybCwgdGgsIHQpOgogICAgdGFyZ2V0ID0gZ2V0X3RhcmdldCh1cmwpCiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgcmVxID0gICJHRVQgIit0YXJnZXRbJ3VyaSddKyIgSFRUUC8xLjFcclxuSG9zdDogIiArIHRhcmdldFsnaG9zdCddICsgIlxyXG4iCiAgICByZXEgKz0gIlVzZXItQWdlbnQ6ICIgKyByYW5kb20uY2hvaWNlKHVhKSArICJcclxuIgogICAgcmVxICs9ICJBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOVxyXG4nIgogICAgcmVxICs9IHNwb29mKHRhcmdldCkKICAgIHJlcSArPSAiQ29ubmVjdGlvbjogS2VlcC1BbGl2ZVxyXG5cclxuIgogICAgZm9yIF8gaW4gcmFuZ2UoaW50KHRoKSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0aGQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1BdHRhY2tTUE9PRiwgYXJncz0odGFyZ2V0LCB1bnRpbCwgcmVxKSkKICAgICAgICAgICAgdGhkLnN0YXJ0KCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBBdHRhY2tTUE9PRih0YXJnZXQsIHVudGlsX2RhdGV0aW1lLCByZXEpOiAjCiAgICBpZiB0YXJnZXRbJ3NjaGVtZSddID09ICdodHRwcyc6CiAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHMuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgICAgIHMgPSBzc2wuY3JlYXRlX2RlZmF1bHRfY29udGV4dCgpLndyYXBfc29ja2V0KHMsIHNlcnZlcl9ob3N0bmFtZT10YXJnZXRbJ2hvc3QnXSkKICAgIGVsc2U6CiAgICAgICAgcyA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHMuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmb3IgXyBpbiByYW5nZSgxMDApOgogICAgICAgICAgICAgICAgICAgIHMuc2VuZChzdHIuZW5jb2RlKHJlcSkpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHMuY2xvc2UoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIExhdW5jaFBYU1BPT0YodXJsLCB0aCwgdCwgcHJveHkpOgogICAgdGFyZ2V0ID0gZ2V0X3RhcmdldCh1cmwpCiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgcmVxID0gICJHRVQgIit0YXJnZXRbJ3VyaSddKyIgSFRUUC8xLjFcclxuSG9zdDogIiArIHRhcmdldFsnaG9zdCddICsgIlxyXG4iCiAgICByZXEgKz0gIlVzZXItQWdlbnQ6ICIgKyByYW5kb20uY2hvaWNlKHVhKSArICJcclxuIgogICAgcmVxICs9ICJBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOVxyXG4nIgogICAgcmVxICs9IHNwb29mKHRhcmdldCkKICAgIHJlcSArPSAiQ29ubmVjdGlvbjogS2VlcC1BbGl2ZVxyXG5cclxuIgogICAgZm9yIF8gaW4gcmFuZ2UoaW50KHRoKSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByYW5kb21wcm94eSA9IHJhbmRvbS5jaG9pY2UocHJveHkpCiAgICAgICAgICAgIHRoZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUF0dGFja1BYU1BPT0YsIGFyZ3M9KHRhcmdldCwgdW50aWwsIHJlcSwgcmFuZG9tcHJveHkpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja1BYU1BPT0YodGFyZ2V0LCB1bnRpbF9kYXRldGltZSwgcmVxLCBwcm94eSk6ICMKICAgIHByb3h5ID0gcHJveHkuc3BsaXQoIjoiKQogICAgcHJpbnQocHJveHkpCiAgICB0cnk6CiAgICAgICAgaWYgdGFyZ2V0WydzY2hlbWUnXSA9PSAnaHR0cHMnOgogICAgICAgICAgICBzID0gc29ja3Muc29ja3NvY2tldCgpCiAgICAgICAgICAgICNzLnNldHNvY2tvcHQoc29ja2V0LklQUFJPVE9fVENQLCBzb2NrZXQuVENQX05PREVMQVksIDEpCiAgICAgICAgICAgIHMuc2V0X3Byb3h5KHNvY2tzLlNPQ0tTNSwgc3RyKHByb3h5WzBdKSwgaW50KHByb3h5WzFdKSkKICAgICAgICAgICAgcy5jb25uZWN0KChzdHIodGFyZ2V0Wydob3N0J10pLCBpbnQodGFyZ2V0Wydwb3J0J10pKSkKICAgICAgICAgICAgcyA9IHNzbC5jcmVhdGVfZGVmYXVsdF9jb250ZXh0KCkud3JhcF9zb2NrZXQocywgc2VydmVyX2hvc3RuYW1lPXRhcmdldFsnaG9zdCddKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHMgPSBzb2Nrcy5zb2Nrc29ja2V0KCkKICAgICAgICAgICAgI3Muc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICAgICAgcy5zZXRfcHJveHkoc29ja3MuU09DS1M1LCBzdHIocHJveHlbMF0pLCBpbnQocHJveHlbMV0pKQogICAgICAgICAgICBzLmNvbm5lY3QoKHN0cih0YXJnZXRbJ2hvc3QnXSksIGludCh0YXJnZXRbJ3BvcnQnXSkpKQogICAgZXhjZXB0OgogICAgICAgIHJldHVybgogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBmb3IgXyBpbiByYW5nZSgxMDApOgogICAgICAgICAgICAgICAgICAgIHMuc2VuZChzdHIuZW5jb2RlKHJlcSkpCiAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHMuY2xvc2UoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKI3JlZ2lvbiBDRkIKZGVmIExhdW5jaENGQih1cmwsIHRoLCB0KToKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICBzY3JhcGVyID0gY2xvdWRzY3JhcGVyLmNyZWF0ZV9zY3JhcGVyKCkKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrQ0ZCLCBhcmdzPSh1cmwsIHVudGlsLCBzY3JhcGVyKSkKICAgICAgICAgICAgdGhkLnN0YXJ0KCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKCmRlZiBBdHRhY2tDRkIodXJsLCB1bnRpbF9kYXRldGltZSwgc2NyYXBlcik6CiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNjcmFwZXIuZ2V0KHVybCwgdGltZW91dD0xNSkKICAgICAgICAgICAgc2NyYXBlci5nZXQodXJsLCB0aW1lb3V0PTE1KQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwojIyNyZWdpb24gTmV3IE1ldGhvZApkZWYgTGF1bmNoTmh5KHVybCwgdGgsIHQpOgogICAgdW50aWwgPSBkYXRldGltZS5kYXRldGltZS5ub3coKSArIGRhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPWludCh0KSkKICAgIHNjcmFwZXIgPSBjbG91ZHNjcmFwZXIuY3JlYXRlX3NjcmFwZXIoKQogICAgZm9yIF8gaW4gcmFuZ2UoaW50KHRoKSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0aGQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1BdHRhY2tOaHksIGFyZ3M9KHVybCwgdW50aWwsIHNjcmFwZXIpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja05oeSh1cmwsIHVudGlsX2RhdGV0aW1lLCBzY3JhcGVyKToKICAgIHdoaWxlICh1bnRpbF9kYXRldGltZSAtIGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpKS50b3RhbF9zZWNvbmRzKCkgPiAwOgogICAgICAgIHRyeToKICAgICAgICAgICAgc2NyYXBlci5nZXQodXJsLCB0aW1lb3V0PTEpCiAgICAgICAgICAgIHNjcmFwZXIuZ2V0KHVybCwgdGltZW91dD0xKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwojZW5kcmVnaW9uCgojcmVnaW9uIFBYQ0ZCCmRlZiBMYXVuY2hQWENGQih1cmwsIHRoLCB0KToKICAgIHVudGlsID0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkgKyBkYXRldGltZS50aW1lZGVsdGEoc2Vjb25kcz1pbnQodCkpCiAgICBzY3JhcGVyID0gY2xvdWRzY3JhcGVyLmNyZWF0ZV9zY3JhcGVyKCkKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrUFhDRkIsIGFyZ3M9KHVybCwgdW50aWwsIHNjcmFwZXIpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja1BYQ0ZCKHVybCwgdW50aWxfZGF0ZXRpbWUsIHNjcmFwZXIpOgogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcm94eSA9IHsKICAgICAgICAgICAgICAgICAgICAnaHR0cCc6ICdodHRwOi8vJytzdHIocmFuZG9tLmNob2ljZShsaXN0KHByb3hpZXMpKSksICAgCiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzJzogJ2h0dHA6Ly8nK3N0cihyYW5kb20uY2hvaWNlKGxpc3QocHJveGllcykpKSwKICAgICAgICAgICAgfQogICAgICAgICAgICBzY3JhcGVyLmdldCh1cmwsIHByb3hpZXM9cHJveHkpCiAgICAgICAgICAgIHNjcmFwZXIuZ2V0KHVybCwgcHJveGllcz1wcm94eSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBDRlBSTwpkZWYgTGF1bmNoQ0ZQUk8odXJsLCB0aCwgdCk6CiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgc2NyYXBlciA9IGNsb3Vkc2NyYXBlci5jcmVhdGVfc2NyYXBlcihzZXNzPXNlc3Npb24pCiAgICBqYXIgPSBSZXF1ZXN0c0Nvb2tpZUphcigpCiAgICBqYXIuc2V0KGNvb2tpZUpBUlsnbmFtZSddLCBjb29raWVKQVJbJ3ZhbHVlJ10pCiAgICBzY3JhcGVyLmNvb2tpZXMgPSBqYXIKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrQ0ZQUk8sIGFyZ3M9KHVybCwgdW50aWwsIHNjcmFwZXIpKQogICAgICAgICAgICB0aGQuc3RhcnQoKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIEF0dGFja0NGUFJPKHVybCwgdW50aWxfZGF0ZXRpbWUsIHNjcmFwZXIpOgogICAgaGVhZGVycyA9IHsKICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDEwXzNfMyBsaWtlIE1hYyBPUyBYKSBBcHBsZVdlYktpdC82MDMuMy44IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE0RzYwIE1pY3JvTWVzc2VuZ2VyLzYuNS4xOCBOZXRUeXBlL1dJRkkgTGFuZ3VhZ2UvZW4nLAogICAgICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ3RyLVRSLHRyO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JywKICAgICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2RlZmxhdGUsIGd6aXA7cT0xLjAsICo7cT0wLjUnLAogICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJywKICAgICAgICAnUHJhZ21hJzogJ25vLWNhY2hlJywKICAgICAgICAnQ29ubmVjdGlvbic6ICdrZWVwLWFsaXZlJywKICAgICAgICAnVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0cyc6ICcxJywKICAgICAgICAnU2VjLUZldGNoLURlc3QnOiAnZG9jdW1lbnQnLAogICAgICAgICdTZWMtRmV0Y2gtTW9kZSc6ICduYXZpZ2F0ZScsCiAgICAgICAgJ1NlYy1GZXRjaC1TaXRlJzogJ3NhbWUtb3JpZ2luJywKICAgICAgICAnU2VjLUZldGNoLVVzZXInOiAnPzEnLAogICAgICAgICdURSc6ICd0cmFpbGVycycsCiAgICB9CiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNjcmFwZXIuZ2V0KHVybD11cmwsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQogICAgICAgICAgICBzY3JhcGVyLmdldCh1cmw9dXJsLCBoZWFkZXJzPWhlYWRlcnMsIGFsbG93X3JlZGlyZWN0cz1GYWxzZSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKI2VuZHJlZ2lvbgoKI3JlZ2lvbiBDRlNPQwpkZWYgTGF1bmNoQ0ZTT0ModXJsLCB0aCwgdCk6CiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgdGFyZ2V0ID0gZ2V0X3RhcmdldCh1cmwpCiAgICByZXEgPSAgJ0dFVCAnKyB0YXJnZXRbJ3VyaSddICsnIEhUVFAvMS4xXHJcbicKICAgIHJlcSArPSAnSG9zdDogJyArIHRhcmdldFsnaG9zdCddICsgJ1xyXG4nCiAgICByZXEgKz0gJ0FjY2VwdDogdGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45XHJcbicKICAgIHJlcSArPSAnQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBiclxyXG4nCiAgICByZXEgKz0gJ0FjY2VwdC1MYW5ndWFnZToga28sa28tS1I7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjdcclxuJwogICAgcmVxICs9ICdDYWNoZS1Db250cm9sOiBtYXgtYWdlPTBcclxuJwogICAgcmVxICs9ICdDb29raWU6ICcgKyBjb29raWUgKyAnXHJcbicKICAgIHJlcSArPSBmJ3NlYy1jaC11YTogIkNocm9taXVtIjt2PSIxMDAiLCAiR29vZ2xlIENocm9tZSI7dj0iMTAwIlxyXG4nCiAgICByZXEgKz0gJ3NlYy1jaC11YS1tb2JpbGU6ID8wXHJcbicKICAgIHJlcSArPSAnc2VjLWNoLXVhLXBsYXRmb3JtOiAiV2luZG93cyJcclxuJwogICAgcmVxICs9ICdzZWMtZmV0Y2gtZGVzdDogZW1wdHlcclxuJwogICAgcmVxICs9ICdzZWMtZmV0Y2gtbW9kZTogY29yc1xyXG4nCiAgICByZXEgKz0gJ3NlYy1mZXRjaC1zaXRlOiBzYW1lLW9yaWdpblxyXG4nCiAgICByZXEgKz0gJ0Nvbm5lY3Rpb246IEtlZXAtQWxpdmVcclxuJwogICAgcmVxICs9ICdVc2VyLUFnZW50OiAnICsgdXNlcmFnZW50ICsgJ1xyXG5cclxuXHJcbicKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrQ0ZTT0MsYXJncz0odW50aWwsIHRhcmdldCwgcmVxLCkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OiAgCiAgICAgICAgICAgIHBhc3MKCmRlZiBBdHRhY2tDRlNPQyh1bnRpbF9kYXRldGltZSwgdGFyZ2V0LCByZXEpOgogICAgaWYgdGFyZ2V0WydzY2hlbWUnXSA9PSAnaHR0cHMnOgogICAgICAgIHBhY2tldCA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHBhY2tldC5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX1RDUCwgc29ja2V0LlRDUF9OT0RFTEFZLCAxKQogICAgICAgIHBhY2tldC5jb25uZWN0KChzdHIodGFyZ2V0Wydob3N0J10pLCBpbnQodGFyZ2V0Wydwb3J0J10pKSkKICAgICAgICBwYWNrZXQgPSBzc2wuY3JlYXRlX2RlZmF1bHRfY29udGV4dCgpLndyYXBfc29ja2V0KHBhY2tldCwgc2VydmVyX2hvc3RuYW1lPXRhcmdldFsnaG9zdCddKQogICAgZWxzZToKICAgICAgICBwYWNrZXQgPSBzb2Nrcy5zb2Nrc29ja2V0KCkKICAgICAgICBwYWNrZXQuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBwYWNrZXQuY29ubmVjdCgoc3RyKHRhcmdldFsnaG9zdCddKSwgaW50KHRhcmdldFsncG9ydCddKSkpCiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKDEwKToKICAgICAgICAgICAgICAgIHBhY2tldC5zZW5kKHN0ci5lbmNvZGUocmVxKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhY2tldC5jbG9zZSgpCiAgICAgICAgICAgIHBhc3MKI2VuZHJlZ2lvbgoKI3JlZ2lvbiB0ZXN0em9uZQpkZWYgYXR0YWNrU0tZKHVybCwgdGltZXIsIHRocmVhZHMpOgogICAgZm9yIGkgaW4gcmFuZ2UoaW50KHRocmVhZHMpKToKICAgICAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1MYXVuY2hTS1ksIGFyZ3M9KHVybCwgdGltZXIpKS5zdGFydCgpCgpkZWYgTGF1bmNoU0tZKHVybCwgdGltZXIpOgogICAgcHJveHkgPSByYW5kb20uY2hvaWNlKHByb3hpZXMpLnN0cmlwKCkuc3BsaXQoIjoiKQogICAgdGltZWxvbCA9IHRpbWUudGltZSgpICsgaW50KHRpbWVyKQogICAgcmVxID0gICJHRVQgLyBIVFRQLzEuMVxyXG5Ib3N0OiAiICsgdXJscGFyc2UodXJsKS5uZXRsb2MgKyAiXHJcbiIKICAgIHJlcSArPSAiQ2FjaGUtQ29udHJvbDogbm8tY2FjaGVcclxuIgogICAgcmVxICs9ICJVc2VyLUFnZW50OiAiICsgcmFuZG9tLmNob2ljZSh1YSkgKyAiXHJcbiIKICAgIHJlcSArPSAiQWNjZXB0OiB0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjlcclxuJyIKICAgIHJlcSArPSAiU2VjLUZldGNoLVNpdGU6IHNhbWUtb3JpZ2luXHJcbiIKICAgIHJlcSArPSAiU2VjLUdQQzogMVxyXG4iCiAgICByZXEgKz0gIlNlYy1GZXRjaC1Nb2RlOiBuYXZpZ2F0ZVxyXG4iCiAgICByZXEgKz0gIlNlYy1GZXRjaC1EZXN0OiBkb2N1bWVudFxyXG4iCiAgICByZXEgKz0gIlVwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHM6IDFcclxuIgogICAgcmVxICs9ICJDb25uZWN0aW9uOiBLZWVwLUFsaXZlXHJcblxyXG4iCiAgICB3aGlsZSB0aW1lLnRpbWUoKSA8IHRpbWVsb2w6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzID0gc29ja3Muc29ja3NvY2tldCgpCiAgICAgICAgICAgIHMuY29ubmVjdCgoc3RyKHVybHBhcnNlKHVybCkubmV0bG9jKSwgaW50KDQ0MykpKQogICAgICAgICAgICBzLnNldF9wcm94eShzb2Nrcy5TT0NLUzUsIHN0cihwcm94eVswXSksIGludChwcm94eVsxXSkpCiAgICAgICAgICAgIGN0eCA9IHNzbC5TU0xDb250ZXh0KCkKICAgICAgICAgICAgcyA9IGN0eC53cmFwX3NvY2tldChzLCBzZXJ2ZXJfaG9zdG5hbWU9dXJscGFyc2UodXJsKS5uZXRsb2MpCiAgICAgICAgICAgIHMuc2VuZChzdHIuZW5jb2RlKHJlcSkpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKDEwMCk6CiAgICAgICAgICAgICAgICAgICAgcy5zZW5kKHN0ci5lbmNvZGUocmVxKSkKICAgICAgICAgICAgICAgICAgICBzLnNlbmQoc3RyLmVuY29kZShyZXEpKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBzLmNsb3NlKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHMuY2xvc2UoKQoKZGVmIGF0dGFja1NURUxMQVIodXJsLCB0aW1lciwgdGhyZWFkcyk6CiAgICBmb3IgaSBpbiByYW5nZShpbnQodGhyZWFkcykpOgogICAgICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PUxhdW5jaFNURUxMQVIsIGFyZ3M9KHVybCwgdGltZXIpKS5zdGFydCgpCgpkZWYgTGF1bmNoU1RFTExBUih1cmwsIHRpbWVyKToKICAgIHRpbWVsb2wgPSB0aW1lLnRpbWUoKSArIGludCh0aW1lcikKICAgIHJlcSA9ICAiR0VUIC8gSFRUUC8xLjFcclxuSG9zdDogIiArIHVybHBhcnNlKHVybCkubmV0bG9jICsgIlxyXG4iCiAgICByZXEgKz0gIkNhY2hlLUNvbnRyb2w6IG5vLWNhY2hlXHJcbiIKICAgIHJlcSArPSAiVXNlci1BZ2VudDogIiArIHJhbmRvbS5jaG9pY2UodWEpICsgIlxyXG4iCiAgICByZXEgKz0gIkFjY2VwdDogdGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45XHJcbiciCiAgICByZXEgKz0gIlNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpblxyXG4iCiAgICByZXEgKz0gIlNlYy1HUEM6IDFcclxuIgogICAgcmVxICs9ICJTZWMtRmV0Y2gtTW9kZTogbmF2aWdhdGVcclxuIgogICAgcmVxICs9ICJTZWMtRmV0Y2gtRGVzdDogZG9jdW1lbnRcclxuIgogICAgcmVxICs9ICJVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzOiAxXHJcbiIKICAgIHJlcSArPSAiQ29ubmVjdGlvbjogS2VlcC1BbGl2ZVxyXG5cclxuIgogICAgd2hpbGUgdGltZS50aW1lKCkgPCB0aW1lbG9sOgogICAgICAgIHRyeToKICAgICAgICAgICAgcyA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgcy5jb25uZWN0KChzdHIodXJscGFyc2UodXJsKS5uZXRsb2MpLCBpbnQoNDQzKSkpCiAgICAgICAgICAgIGN0eCA9IHNzbC5jcmVhdGVfZGVmYXVsdF9jb250ZXh0KCkKICAgICAgICAgICAgcyA9IGN0eC53cmFwX3NvY2tldChzLCBzZXJ2ZXJfaG9zdG5hbWU9dXJscGFyc2UodXJsKS5uZXRsb2MpCiAgICAgICAgICAgIHMuc2VuZChzdHIuZW5jb2RlKHJlcSkpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKDEwMCk6CiAgICAgICAgICAgICAgICAgICAgcy5zZW5kKHN0ci5lbmNvZGUocmVxKSkKICAgICAgICAgICAgICAgICAgICBzLnNlbmQoc3RyLmVuY29kZShyZXEpKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBzLmNsb3NlKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHMuY2xvc2UoKQojZW5kcmVnaW9uCgpkZWYgTGF1bmNoSFRUUDIodXJsLCB0aCwgdCk6CiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgZm9yIF8gaW4gcmFuZ2UoaW50KHRoKSk6CiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrSFRUUDIsIGFyZ3M9KHVybCwgdW50aWwpKS5zdGFydCgpCgpkZWYgQXR0YWNrSFRUUDIodXJsLCB1bnRpbF9kYXRldGltZSk6CiAgICBoZWFkZXJzID0gewogICAgICAgICAgICAnVXNlci1BZ2VudCc6IHJhbmRvbS5jaG9pY2UodWEpLAogICAgICAgICAgICAnQWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsCiAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAndHItVFIsdHI7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLAogICAgICAgICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2RlZmxhdGUsIGd6aXA7cT0xLjAsICo7cT0wLjUnLAogICAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScsCiAgICAgICAgICAgICdQcmFnbWEnOiAnbm8tY2FjaGUnLAogICAgICAgICAgICAnQ29ubmVjdGlvbic6ICdrZWVwLWFsaXZlJywKICAgICAgICAgICAgJ1VwZ3JhZGUtSW5zZWN1cmUtUmVxdWVzdHMnOiAnMScsCiAgICAgICAgICAgICdTZWMtRmV0Y2gtRGVzdCc6ICdkb2N1bWVudCcsCiAgICAgICAgICAgICdTZWMtRmV0Y2gtTW9kZSc6ICduYXZpZ2F0ZScsCiAgICAgICAgICAgICdTZWMtRmV0Y2gtU2l0ZSc6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgICAgICdTZWMtRmV0Y2gtVXNlcic6ICc/MScsCiAgICAgICAgICAgICdURSc6ICd0cmFpbGVycycsCiAgICAgICAgICAgIH0KICAgIGNsaWVudCA9IGh0dHB4LkNsaWVudChodHRwMj1UcnVlKQogICAgd2hpbGUgKHVudGlsX2RhdGV0aW1lIC0gZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkpLnRvdGFsX3NlY29uZHMoKSA+IDA6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjbGllbnQuZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICBjbGllbnQuZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIExhdW5jaFBYSFRUUDIodXJsLCB0aCwgdCk6CiAgICB1bnRpbCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpICsgZGF0ZXRpbWUudGltZWRlbHRhKHNlY29uZHM9aW50KHQpKQogICAgZm9yIF8gaW4gcmFuZ2UoaW50KHRoKSk6CiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9QXR0YWNrSFRUUDIsIGFyZ3M9KHVybCwgdW50aWwpKS5zdGFydCgpCgpkZWYgQXR0YWNrUFhIVFRQMih1cmwsIHVudGlsX2RhdGV0aW1lKToKICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICdVc2VyLUFnZW50JzogcmFuZG9tLmNob2ljZSh1YSksCiAgICAgICAgICAgICdBY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywKICAgICAgICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6ICd0ci1UUix0cjtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycsCiAgICAgICAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZGVmbGF0ZSwgZ3ppcDtxPTEuMCwgKjtxPTAuNScsCiAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJywKICAgICAgICAgICAgJ1ByYWdtYSc6ICduby1jYWNoZScsCiAgICAgICAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLAogICAgICAgICAgICAnVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0cyc6ICcxJywKICAgICAgICAgICAgJ1NlYy1GZXRjaC1EZXN0JzogJ2RvY3VtZW50JywKICAgICAgICAgICAgJ1NlYy1GZXRjaC1Nb2RlJzogJ25hdmlnYXRlJywKICAgICAgICAgICAgJ1NlYy1GZXRjaC1TaXRlJzogJ3NhbWUtb3JpZ2luJywKICAgICAgICAgICAgJ1NlYy1GZXRjaC1Vc2VyJzogJz8xJywKICAgICAgICAgICAgJ1RFJzogJ3RyYWlsZXJzJywKICAgICAgICAgICAgfQogICAgCiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNsaWVudCA9IGh0dHB4LkNsaWVudCgKICAgICAgICAgICAgICAgIGh0dHAyPVRydWUsCiAgICAgICAgICAgICAgICBwcm94aWVzPXsKICAgICAgICAgICAgICAgICAgICAnaHR0cDovLyc6ICdodHRwOi8vJytyYW5kb20uY2hvaWNlKHByb3hpZXMpLAogICAgICAgICAgICAgICAgICAgICdodHRwczovLyc6ICdodHRwOi8vJytyYW5kb20uY2hvaWNlKHByb3hpZXMpLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgKQogICAgICAgICAgICBjbGllbnQuZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICBjbGllbnQuZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgcGFzcwoKZGVmIHRlc3QxKHVybCwgdGgsIHQpOgogICAgdW50aWwgPSBkYXRldGltZS5kYXRldGltZS5ub3coKSArIGRhdGV0aW1lLnRpbWVkZWx0YShzZWNvbmRzPWludCh0KSkKICAgIHRhcmdldCA9IGdldF90YXJnZXQodXJsKQogICAgcmVxID0gICdHRVQgJysgdGFyZ2V0Wyd1cmknXSArJyBIVFRQLzEuMVxyXG4nCiAgICByZXEgKz0gJ0hvc3Q6ICcgKyB0YXJnZXRbJ2hvc3QnXSArICdcclxuJwogICAgcmVxICs9ICdBY2NlcHQ6IHRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOVxyXG4nCiAgICByZXEgKz0gJ0FjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnJcclxuJwogICAgcmVxICs9ICdBY2NlcHQtTGFuZ3VhZ2U6IGtvLGtvLUtSO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43XHJcbicKICAgIHJlcSArPSAnQ2FjaGUtQ29udHJvbDogbWF4LWFnZT0wXHJcbicKICAgICNyZXEgKz0gJ0Nvb2tpZTogJyArIGNvb2tpZSArICdcclxuJwogICAgcmVxICs9IGYnc2VjLWNoLXVhOiAiQ2hyb21pdW0iO3Y9IjEwMCIsICJHb29nbGUgQ2hyb21lIjt2PSIxMDAiXHJcbicKICAgIHJlcSArPSAnc2VjLWNoLXVhLW1vYmlsZTogPzBcclxuJwogICAgcmVxICs9ICdzZWMtY2gtdWEtcGxhdGZvcm06ICJXaW5kb3dzIlxyXG4nCiAgICByZXEgKz0gJ3NlYy1mZXRjaC1kZXN0OiBlbXB0eVxyXG4nCiAgICByZXEgKz0gJ3NlYy1mZXRjaC1tb2RlOiBjb3JzXHJcbicKICAgIHJlcSArPSAnc2VjLWZldGNoLXNpdGU6IHNhbWUtb3JpZ2luXHJcbicKICAgIHJlcSArPSAnQ29ubmVjdGlvbjogS2VlcC1BbGl2ZVxyXG4nCiAgICByZXEgKz0gJ1VzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgMTBfM18zIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwMy4zLjggKEtIVE1MLCBsaWtlIEdlY2tvKSBNb2JpbGUvMTRHNjAgTWljcm9NZXNzZW5nZXIvNi41LjE4IE5ldFR5cGUvV0lGSSBMYW5ndWFnZS9lblxyXG5cclxuXHJcbicKICAgIGZvciBfIGluIHJhbmdlKGludCh0aCkpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdGhkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9dGVzdDIsYXJncz0odW50aWwsIHRhcmdldCwgcmVxLCkpCiAgICAgICAgICAgIHRoZC5zdGFydCgpCiAgICAgICAgZXhjZXB0OiAgCiAgICAgICAgICAgIHBhc3MKCmRlZiB0ZXN0Mih1bnRpbF9kYXRldGltZSwgdGFyZ2V0LCByZXEpOgogICAgaWYgdGFyZ2V0WydzY2hlbWUnXSA9PSAnaHR0cHMnOgogICAgICAgIHBhY2tldCA9IHNvY2tzLnNvY2tzb2NrZXQoKQogICAgICAgIHBhY2tldC5zZXRzb2Nrb3B0KHNvY2tldC5JUFBST1RPX1RDUCwgc29ja2V0LlRDUF9OT0RFTEFZLCAxKQogICAgICAgIHBhY2tldC5jb25uZWN0KChzdHIodGFyZ2V0Wydob3N0J10pLCBpbnQodGFyZ2V0Wydwb3J0J10pKSkKICAgICAgICBwYWNrZXQgPSBzc2wuY3JlYXRlX2RlZmF1bHRfY29udGV4dCgpLndyYXBfc29ja2V0KHBhY2tldCwgc2VydmVyX2hvc3RuYW1lPXRhcmdldFsnaG9zdCddKQogICAgZWxzZToKICAgICAgICBwYWNrZXQgPSBzb2Nrcy5zb2Nrc29ja2V0KCkKICAgICAgICBwYWNrZXQuc2V0c29ja29wdChzb2NrZXQuSVBQUk9UT19UQ1AsIHNvY2tldC5UQ1BfTk9ERUxBWSwgMSkKICAgICAgICBwYWNrZXQuY29ubmVjdCgoc3RyKHRhcmdldFsnaG9zdCddKSwgaW50KHRhcmdldFsncG9ydCddKSkpCiAgICB3aGlsZSAodW50aWxfZGF0ZXRpbWUgLSBkYXRldGltZS5kYXRldGltZS5ub3coKSkudG90YWxfc2Vjb25kcygpID4gMDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGZvciBfIGluIHJhbmdlKDEwKToKICAgICAgICAgICAgICAgIHBhY2tldC5zZW5kKHN0ci5lbmNvZGUocmVxKSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhY2tldC5jbG9zZSgpCiAgICAgICAgICAgIHBhc3MKCgojZW5kcmVnaW9uCgpkZWYgY2xlYXIoKTogCiAgICBpZiBuYW1lID09ICdudCc6IAogICAgICAgIHN5c3RlbSgnY2xzJykKICAgIGVsc2U6IAogICAgICAgIHN5c3RlbSgnY2xlYXInKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCmRlZiBoZWxwKCk6CiAgICBjbGVhcigpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVENZQU5fRVggICArIiAgICAgICAgICAgICAgICDilabilZDilZcg4pWU4pWQ4pWXIOKVpuKVlyDilaYg4pWU4pWQ4pWX4pWmICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRCTFVFX0VYICAgKyIgICAgICAgICAgICAgICAg4pWg4pWQ4pWdIOKVoOKVkOKVoyDilZHilZrilZfilZEg4pWg4pWjIOKVkSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUQkxVRV9FWCAgICsiICAgICAgICAgICAgICAgIOKVqSAgIOKVqSDilakg4pWpIOKVmuKVqSDilanilZDilZ3ilanilZDilZ0gICAgICAgICAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRDWUFOX0VYICAgICAgICAgICArIiAgICAgICAgICAgKEhp4buHbiBU4bqhaSBDw7MgMyBMYXllciBDaG8gUGFuZWwgTsOgeSEpICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIiAgICAgICAg4pWQ4pWQ4pWm4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWm4pWQ4pWQXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsibGF5ZXI3ICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU2hvdyBMYXllcjcgTWV0aG9kcyAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsibGF5ZXI0ICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU2hvdyBMYXllcjQgTWV0aG9kcyAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsidG9vbHMgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU2hvdyBUb29scyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsicmVsb2FkICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgUmVsb2FkIFRvb2xzICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiaXAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgR2V0IElQIEPhu6dhIE3DrG5oICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsibG9jICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgUXVvYyBHaWEgQ3VhIE0gICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiY3JlZGl0ICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU2hvdyBDcmVkaXQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiZXhpdCAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgRXhpdCBIVVNVUkkgRERvUyAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgKyLilaDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilaNcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrIlRoYW5rcyAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIERtIEZpbGUgRGVvIExlYWsgRGF1ICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICsi4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdXG4iKQogICAgc3Rkb3V0LndyaXRlKCJcbiIpCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIGNyZWRpdCgpOgogICAgc3Rkb3V0LndyaXRlKCJceDFiWzM4OzI7MDsyMzY7MjUwbeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl1xuIikKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYICAgKyJEZXZlbG9wZXIgIitGb3JlLlJFRCsiOiBceDFiWzM4OzI7MDsyNTU7MTg5bUR1bmdMZWVcbiIpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCAgICsiVUkgRGVzaWduICIrRm9yZS5SRUQrIjogXHgxYlszODsyOzA7MjU1OzE4OW1Ib2FUVEJDIFRlYW1cbiIpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCAgICsiTWV0aG9kcy9Ub29scyAiK0ZvcmUuUkVEKyI6IFx4MWJbMzg7MjswOzI1NTsxODltRHVuZ0xlZVxuIikKICAgIHN0ZG91dC53cml0ZSgiXHgxYlszODsyOzA7MjM2OzI1MG3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cbiIpCiAgICBzdGRvdXQud3JpdGUoIlxuIikgICAgCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIGxheWVyNygpOgogICAgY2xlYXIoKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVFdISVRFX0VYICAgKyLilaYgIOKVlOKVkOKVl+KVpiDilabilZTilZDilZfilabilZDilZcg4pWQ4pWQ4pWXICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgKyLilZEgIOKVoOKVkOKVo+KVmuKVpuKVneKVkeKVoyDilaDilabilZ0gIOKVlOKVnSAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICsi4pWp4pWQ4pWd4pWpIOKVqSDilakg4pWa4pWQ4pWd4pWp4pWa4pWQICDilakgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVENZQU5fRVggICAgICAgICAgICsiICAgICAgICAoSGnhu4duIFThuqFpIEPDsyAxOSBNZXRob2QgQ2hvIExheWVyIE7DoHkhKSAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsiICAgICAgICDilZDilZDilabilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilabilZDilZBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl1xuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiY2ZiICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBCeXBhc3MgQ0YgQXR0YWNrICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsicHhjZmIgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBCeXBhc3MgQ0YgQXR0YWNrIFdpdGggUHJveHkgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikgICAgICAgICAgICAgICAgICAKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiY2ZyZXEgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBCeXBhc3MgQ0YgVUFNLCBDQVBUQ0hBLCBCRk0gKHJlcXVlc3QpICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiY2Zzb2MgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBCeXBhc3MgQ0YgVUFNLCBDQVBUQ0hBLCBCRk0gKHNvY2tldCkgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiYnlwYXNzICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBCeXBhc3MgR29vZ2xlIFByb2plY3QgU2hpZWxkLCBWc2hpZWxkLCAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsic2t5ICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBTa3kgbWV0aG9kIHdpdGhvdXQgcHJveHkgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsicHhza3kgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBQcm94eSBERG9TIEd1YXJkIEZyZWUsIENGIE5vU2VjICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiaHR0cDIgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBIVFRQIDIuMCBSZXF1ZXN0IEF0dGFjayAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsicHhodHRwMiIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBIVFRQIDIuMCBSZXF1ZXN0IEF0dGFjayBXaXRoIFByb3h5ICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiZ2V0ICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBHZXQgUmVxdWVzdCBBdHRhY2sgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsicG9zdCAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBQb3N0IFJlcXVlc3QgQXR0YWNrICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiaGVhZCAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBIZWFkIFJlcXVlc3QgQXR0YWNrICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsicHBzICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIiB8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBPbmx5IEdFVCAvIEhUVFAvMS4xICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIAogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJzcG9vZiAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiIHwiK0ZvcmUuTElHSFRXSElURV9FWCsiIEhUVFAgU3Bvb2YgU29ja2V0IEF0dGFjayAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJweHNwb29mIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiIHwiK0ZvcmUuTElHSFRXSElURV9FWCsiIEhUVFAgU3Bvb2YgU29ja2V0IEF0dGFjayBXaXRoIFByb3h5ICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInNvYyAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyIgfCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU29ja2V0IEF0dGFjayAgICAgICAgICAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyLilZFcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInB4cmF3ICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyIgfCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgUHJveHkgUmVxdWVzdCBBdHRhY2sgICAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyLilZFcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInB4c29jICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyIgfCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgUHJveHkgU29ja2V0IEF0dGFjayAgICAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyLilZFcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnVxuIikgCiAgICBzdGRvdXQud3JpdGUoIlxuIikKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgbGF5ZXI0KCk6CiAgICBjbGVhcigpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUV0hJVEVfRVggICArIuKVpiAg4pWU4pWQ4pWX4pWmIOKVpuKVlOKVkOKVl+KVpuKVkOKVlyDilaYg4pWmICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgKyLilZEgIOKVoOKVkOKVo+KVmuKVpuKVneKVkeKVoyDilaDilabilZ0g4pWa4pWQ4pWjICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgKyLilanilZDilZ3ilakg4pWpIOKVqSDilZrilZDilZ3ilanilZrilZAgICDilakgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVENZQU5fRVggICAgICAgICAgICsiICAgICAgICAgICAoSGnhu4duIFThuqFpIEPDsyA0IE1ldGhvZCBDaG8gTGF5ZXIgTsOgeSEpICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICAgKyIgICAgICAgIOKVkOKVkOKVpuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVpuKVkOKVkFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVl1xuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInVkcCAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIFVEUCBBdHRhY2sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInRjcCAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIFRDUCBBdHRhY2sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrIm1pbmUgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIE1pbmVjcmFmdCBEb3MgYXR0YWNrICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInZzZSAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIFNlbmQgVmFsdmUgU291cmNlIEVuZ2luZSBQcm90b2NvbCAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnVxuIikgCiAgICBzdGRvdXQud3JpdGUoIlxuIikKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgdG9vbHMoKToKICAgIGNsZWFyKCkKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRXSElURV9FWCAgICsi4pWU4pWm4pWX4pWU4pWQ4pWX4pWU4pWQ4pWX4pWmICDilZTilZDilZcgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICArIiDilZEg4pWRIOKVkeKVkSDilZHilZEgIOKVmuKVkOKVlyAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICsiIOKVqSDilZrilZDilZ3ilZrilZDilZ3ilanilZDilZ3ilZrilZDilZ0gICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUQ1lBTl9FWCAgICAgICAgICAgKyIgICAgICAgICAgIChIaeG7h24gVOG6oWkgQ8OzIDMgTWV0aG9kIENobyBMYXllciBOw6B5ISkgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIiAgICAgICAg4pWQ4pWQ4pWm4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWm4pWQ4pWQXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiZ2VvaXAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgR2VvIElQIEFkZHJlc3MgTG9va3VwIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiICAgICAgICAgICAgICAgICAgICAg4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiZG5zICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgQ2xhc3NpYyBETlMgTG9va3VwICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiICAgICAgICAgICAgICAgICAgICAg4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsic3VibmV0IitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgU3VibmV0IElQIEFkZHJlc3MgTG9va3VwICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsiICAgICAgICAgICAgICAg4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdXG4iKSAKICAgIHN0ZG91dC53cml0ZSgiXG4iKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCmRlZiBsYXllcnNtcygpOgogICAgY2xlYXIoKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUUkVEX0VYICAgKyIgICAgICDilaYgIOKVlOKVkOKVl+KVpiDilabilZTilZDilZfilabilZDilZcgIOKVlOKVkOKVlyDilZTilZcg4pWU4pWXIOKVlOKVkOKVlyAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUUkVEX0VYICAgKyIgICAgICDilZEgIOKVoOKVkOKVo+KVmuKVpuKVneKVoOKVoyDilaDilabilZ0gIOKVmuKVkOKVlyDilZHilZrilabilZ3ilZEg4pWa4pWQ4pWXICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICAiK0ZvcmUuTElHSFRSRURfRVggICArIiAgICAgIOKVqeKVkOKVneKVqSDilakg4pWpIOKVmuKVkOKVneKVqeKVmuKVnSAg4pWa4pWQ4pWpIOKVqSDilakg4pWpIOKVmuKVkOKVqSAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUQ1lBTl9FWCAgICsiICAgICAgICAgICAoSGnhu4duIFThuqFpIEPDsyA1IE1ldGhvZCBDaG8gTGF5ZXIgTsOgeSEpICBcbiIpCiAgIAogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsiICAgICAgICDilZDilZDilabilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilabilZDilZBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICAgKyLilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilanilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilanilZDilZDilZDilZDilZDilZDilZDilZDilZDilZdcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICAgKyLilZEgXHgxYlszODsyOzI1NTsyMDsxNDdt4oCiICIrRm9yZS5MSUdIVFdISVRFX0VYKyJzbXMxICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIE5ndXnhu4VuIFbEg24gU8OhbmcgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsic21zMiAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyJ8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBM4bqhaSBYdcOibiBUaMOgbmggICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInNtczMgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgQ29jIEh5IEh1bmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrIuKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICIrRm9yZS5MSUdIVE1BR0VOVEFfRVggICAgICAgICAgICArIuKVkSBceDFiWzM4OzI7MjU1OzIwOzE0N23igKIgIitGb3JlLkxJR0hUV0hJVEVfRVgrInNtczQgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsifCIrRm9yZS5MSUdIVFdISVRFX0VYKyIgRMWpbmcgVMOtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsic21zNSAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyJ8IitGb3JlLkxJR0hUV0hJVEVfRVgrIiBQaGFtRGluaFF1b2MgICAgICAgICAgICAgICAgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCsi4pWRXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgIitGb3JlLkxJR0hUTUFHRU5UQV9FWCAgICAgICAgICAgICsi4pWRIFx4MWJbMzg7MjsyNTU7MjA7MTQ3beKAoiAiK0ZvcmUuTElHSFRXSElURV9FWCsiRmlsZSBT4bqjbiBYdeG6pXQgxJDhu5ljIFF1eeG7gW4gRMWpbmcgTMOqISIrRm9yZS5MSUdIVE1BR0VOVEFfRVgrInwiK0ZvcmUuTElHSFRXSElURV9FWCsiIENvcHlyaWdodDpETCAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYKyLilZFcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAiK0ZvcmUuTElHSFRNQUdFTlRBX0VYICAgICAgICAgICAgKyLilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cbiIpIAogICAgc3Rkb3V0LndyaXRlKCJcbiIpCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIHRpdGxlKCk6CiAgICAgICAgCiAgIAoKCgoKCgogICAgc3Rkb3V0LndyaXRlKCIiK0ZvcmUuTElHSFRXSElURV9FWCAgKyIgV2VsY29tZSBUbyBceDFiWzM4OzU7MTA1bUhBU1VSSSDimqEgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIlx4MWJbMzg7NTsxMDVtIEhBU1VSSSBceDFiWzM4OzU7MjMxbVBhZ2Ug4pePXHgxYlszODs1OzEyM20gSGVsbG8gOlx4MWJbMzg7NTs4NW0gRHVuZ2xlRHogXHgxYlszODs1OzIzMW3il49ceDFiWzM4OzU7MjI2bSBQb3dlcmZ1bCBMYXllciA0IC8gN1xuIikKCiAgCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICBceDFiWzM4OzU7MTIzbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWmIOKVpuKVlOKVkOKVlyDilZTilZDilZfilaYg4pWmIOKVlOKVkOKVl+KVpiAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzEyM20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVoOKVkOKVo+KVoOKVkOKVoyDilZrilZDilZfilZEg4pWRIOKVoOKVpuKVneKVkSAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzEyM20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVqSDilanilakg4pWpIOKVmuKVkOKVneKVmuKVkOKVnSDilanilZrilZ3ilalceDFiWzM4OzU7MjE0bSBWICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzYzbSAgICAgICAgICAgICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVpuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFx4MWJbMzg7NTsyMzFt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWm4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXG4iKSAgICAgICAgICAgICAgICAgICAgICAKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgIFx4MWJbMzg7NTs2M20gICAgICAgICAgICAgICAg4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQXHgxYlszODs1OzIzMW3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilanilZDilZDilZDilZDilZDilZDilZDilZcgXG4iKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzYzbSAgICAgICAgICAgICAgICDilZEgXHgxYlszODs1OzIzMW3ilIEg4pSBIOKUgSDilIEgV2VsY29tZSxbXHgxYlszODs1Ozg1bUR1bmdMZWVEZXBDaGFpXHgxYlszODs1OzIzMW1dIOKUgSDilIEg4pSBIOKUgSAgXHgxYlszODs1OzIzMW0gICAgICDilZEgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzYzbSAgICAgICAgICAgICAgICDilZEgXHgxYlszODs1OzIzMW1ceDFiWzM4OzU7MjI2bVBvd2VyZnVsIExheWVyIDQgLyA3IFZpcFx4MWJbMzg7NTsyMzFtK1x4MWJbMzg7NTs4N20gTmV0d29yay9CeXBhc3MgTWV0aG9kc1x4MWJbMzg7NTsyMzFt4pWRICAgICAgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgIFx4MWJbMzg7NTs2M20gICAgICAgICAgICAgICAg4pWRIFx4MWJbMzg7NTsyMzFtCSAgICAgICBPd25lciA6XHgxYlszODs1Ozg1bSBEdW5nTGVlQ29kZXIgICAgICAgICAgICBceDFiWzM4OzU7MjMxbSAgICAgIOKVkSAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICBceDFiWzM4OzU7NjNtICAgICAgICAgICAgICAgIOKVkSBceDFiWzM4OzU7MjMxbSAgICAg4pSBIOKUgSDilIEg4pSBIENPTk5FQ1RJT04gW1x4MWJbMzg7NTs4NW1HT09EXHgxYlszODs1OzIzMW1dIOKUgSDilIEg4pSBIOKUgSAgXHgxYlszODs1OzIzMW0gICAgICAgIOKVkSAgICAgICAgICAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzYzbSAgICAgICAgICAgICAgICDilZEgXHgxYlszODs1OzIzMW1ceDFiWzM4OzU7MjI2bfCfmoBJQiA6XHgxYlszODs1OzIzMW1ceDFiWzM4OzU7ODdtIGh0dHBzOi8vemFsby5tZS9nL2FtaWFjeTAxNPCfmoBceDFiWzM4OzU7MjMxbSAgICAgICAgICAgIOKVkSAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzYzbSAgICAgICAgICAgICAgICDilZEgXHgxYlszODs1OzIzMW1ceDFiWzM4OzU7MjI2bfCfmoBGQiA6XHgxYlszODs1OzIzMW1ceDFiWzM4OzU7ODdtIGh0dHA6Ly9nZy5nZy8xNjk2MzPwn5qAXHgxYlszODs1OzIzMW0gICAgICAgICAgICAgICAgICAgIOKVkVxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgIFx4MWJbMzg7NTs2M20gICAgICAgICAgICAgICAg4pWRIFx4MWJbMzg7NTsyMzFtXHgxYlszODs1OzIyNm1Ub29sIEhp4buHbiBU4bqhaSDEkGFuZyBDw7MgMzEgTWV0aG9kXHgxYlszODs1OzIzMW0gICAgICAgICAgICAgICAgIOKVkSAgICAgICAgXG4iKQogICAgc3Rkb3V0LndyaXRlKCIgICAgICAgICAgICAgICAgICAgXHgxYlszODs1OzYzbSAgICAgICAgICAgICAgICDilZrilZDilZDilZDilZDilZDilZDilZDilZDilabilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZBceDFiWzM4OzU7MjMxbeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVpuKVkOKVkOKVkOKVnSAgICAgICAgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgIFx4MWJbMzg7NTs2M20gICAgICAgICAgICAgIOKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVqeKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFx4MWJbMzg7NTsyMzFt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWp4pWQ4pWQ4pWQ4pWQ4pWQ4pWXICAgICAgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgIFx4MWJbMzg7NTs2M20gICAgICAgICAgICAgIOKVkSBceDFiWzM4OzU7MjMxbQkgICAgICAgICBUeXBlICdceDFiWzM4OzU7MjI5bUhFTFBceDFiWzM4OzU7MjMxbScgdG8gZ2V0IHN0YXJ0ZWQgICAgICAgXHgxYlszODs1OzIzMW0gICAgIOKVkSAgICAgICAgICAgICAgICAgICBcbiIpCiAgICBzdGRvdXQud3JpdGUoIiAgICAgICAgICAgICAgICAgICBceDFiWzM4OzU7NjNtICAgICAgICAgICAgICDilZEgXHgxYlszODs1OzIzMW0JQ29weXJpZ2h0IFx4MWJbMzg7NTsxNTJtwqkgMjAyMyBceDFiWzM4OzU7ODNtSEFTVVJJIFx4MWJbMzg7NTsyMjltVlx4MWJbMzg7NTsyMzFtLCBBbGwgcmlnaHQgcmVzZXJ2ZWQgXHgxYlszODs1OzIzMW0g4pWRICAgICAgICAgICAgICAgICAgIFxuIikKICAgIHN0ZG91dC53cml0ZSgiICAgICAgICAgICAgICAgICAgIFx4MWJbMzg7NTs2M20gICAgICAgICAgICAgIOKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFx4MWJbMzg7NTsyMzFt4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdICAgXG4iKQoKICAgIHN0ZG91dC53cml0ZSgiXG4iKQogICAgCiAgICAKICAgIHN0ZG91dC53cml0ZSgiXG4iKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIGNvbW1hbmQoKToKICAgIHN0ZG91dC53cml0ZShGb3JlLkxJR0hUTUFHRU5UQV9FWCsiCVx4MWJbMzg7NTs1N20iIlx4MWJbMzg7NTsyMzZtW1x4MWJbMzg7NTsyMTltRHVuZ2xlZSBceDFiWzM4OzU7MjMxbeKYoCBceDFiWzM4OzU7ODNtIEhBU1VSSSBceDFiWzM4OzU7MjI5bfCfmoBceDFiWzM4OzU7MjM2bV0gXHgxYlszODs1OzE5OW1cbiIpIAogICAgY29tbWFuZCA9IGlucHV0KCkKICAgIGlmIGNvbW1hbmQgPT0gImNscyIgb3IgY29tbWFuZCA9PSAiY2xlYXIiOgogICAgICAgIGNsZWFyKCkKICAgICAgICB0aXRsZSgpCiAgICBlbGlmIGNvbW1hbmQgPT0gImhlbHAiIG9yIGNvbW1hbmQgPT0gIj8iOgogICAgICAgIGhlbHAoKQogICAgZWxpZiBjb21tYW5kID09ICJjcmVkaXQiOgogICAgICAgIGNyZWRpdCgpICAgICAgICAKICAgIGVsaWYgY29tbWFuZCA9PSAibGF5ZXI3IiBvciBjb21tYW5kID09ICJMQVlFUjciIG9yIGNvbW1hbmQgPT0gImw3IiBvciBjb21tYW5kID09ICJMNyIgb3IgY29tbWFuZCA9PSAiTGF5ZXI3IjoKICAgICAgICBsYXllcjcoKQogICAgZWxpZiBjb21tYW5kID09ICJsYXllcjQiIG9yIGNvbW1hbmQgPT0gIkxBWUVSNCIgb3IgY29tbWFuZCA9PSAibDQiIG9yIGNvbW1hbmQgPT0gIkw0IiBvciBjb21tYW5kID09ICJMYXllcjQiOgogICAgICAgIGxheWVyNCgpCiAgICBlbGlmIGNvbW1hbmQgPT0gImxheWVyc21zIiBvciBjb21tYW5kID09ICJMQVlFUlNNUyIgb3IgY29tbWFuZCA9PSAibHMiIG9yIGNvbW1hbmQgPT0gIkxTIiBvciBjb21tYW5kID09ICJMYXllclNNUyIgb3IgY29tbWFuZCA9PSAiTGF5ZXJzbXMiIG9yIGNvbW1hbmQgPT0gIkxheWVyc01zIiBvciBjb21tYW5kID09ICJMYXllclNtUyIgb3IgY29tbWFuZCA9PSAibGF5ZXJTbXMiIG9yIGNvbW1hbmQgPT0gImxheWVyc21TIiBvciBjb21tYW5kID09ICJsYXllclNtUyIgb3IgY29tbWFuZCA9PSAibGF5ZXJzTXMiIG9yIGNvbW1hbmQgPT0gImxheWVyU01TIjoKICAgICAgICBsYXllcnNtcygpCiAgICBlbGlmIGNvbW1hbmQgPT0gInRvb2xzIiBvciBjb21tYW5kID09ICJ0b29sIjoKICAgICAgICB0b29scygpCiAgICBlbGlmIGNvbW1hbmQgPT0gImV4aXQiOgogICAgICAgIGV4aXQoKQogICAgZWxpZiBjb21tYW5kID09ICJ0ZXN0IjoKICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICB0ZXN0MSh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lLnNsZWVwKDEwKQogICAgZWxpZiBjb21tYW5kID09ICJodHRwMiIgb3IgY29tbWFuZCA9PSAiSFRUUDIiOgogICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaEhUVFAyKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJweGh0dHAyIiBvciBjb21tYW5kID09ICJQWEhUVFAyIjoKICAgICAgICBpZiBnZXRfcHJveGllcygpOgogICAgICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hQWEhUVFAyKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgY29tbWFuZCA9PSAiY2ZiIiBvciBjb21tYW5kID09ICJDRkIiOgogICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaENGQih0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgY29tbWFuZCA9PSAicHhjZmIiIG9yIGNvbW1hbmQgPT0gIlBYQ0ZCIjoKICAgICAgICBpZiBnZXRfcHJveGllcygpOgogICAgICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hQWENGQih0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIGNvbW1hbmQgPT0gIm5oeSIgb3IgY29tbWFuZCA9PSAiTkhZIjoKICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hOaHkodGFyZ2V0LCB0aHJlYWQsIHQpCiAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIGNvbW1hbmQgPT0gInBwcyIgb3IgY29tbWFuZCA9PSAiUFBTIjoKICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hQUFModGFyZ2V0LCB0aHJlYWQsIHQpCiAgICAgICAgdGltZXIuam9pbigpIAogICAgZWxpZiBjb21tYW5kID09ICJzcG9vZiIgb3IgY29tbWFuZCA9PSAiU1BPT0YiOgogICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaFNQT09GKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKSAKICAgIGVsaWYgY29tbWFuZCA9PSAicHhzcG9vZiIgb3IgY29tbWFuZCA9PSAiUFhTUE9PRiI6CiAgICAgICAgdGFyZ2V0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNygpCiAgICAgICAgI3RpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgI3RpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hQWFNQT09GKHRhcmdldCwgdGhyZWFkLCB0LCBnZXRfcHJveHlsaXN0KCJTT0NLUzUiKSkKICAgICAgICAjdGltZXIuam9pbigpCiAgICAgICAgdGltZS5zbGVlcCgxMDAwKQogICAgZWxpZiBjb21tYW5kID09ICJnZXQiIG9yIGNvbW1hbmQgPT0gIkdFVCI6CiAgICAgICAgdGFyZ2V0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNygpCiAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgTGF1bmNoUkFXKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJwb3N0IiBvciBjb21tYW5kID09ICJQT1NUIjoKICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hQT1NUKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJoZWFkIiBvciBjb21tYW5kID09ICJIRUFEIjoKICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hIRUFEKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJweHJhdyIgb3IgY29tbWFuZCA9PSAiUFhSQVciOgogICAgICAgIGlmIGdldF9wcm94aWVzKCk6CiAgICAgICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgICAgIExhdW5jaFBYUkFXKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgY29tbWFuZCA9PSAic29jIiBvciBjb21tYW5kID09ICJTT0MiOgogICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaFNPQyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgY29tbWFuZCA9PSAicHhzb2MiIG9yIGNvbW1hbmQgPT0gIlBYU09DIjoKICAgICAgICBpZiBnZXRfcHJveGllcygpOgogICAgICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hQWFNPQyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIGNvbW1hbmQgPT0gImNmcmVxIiBvciBjb21tYW5kID09ICJDRlJFUSI6CiAgICAgICAgdGFyZ2V0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNygpCiAgICAgICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIFsqXSAiK0ZvcmUuV0hJVEUrIkJ5cGFzc2luZyBDRi4uLiAoTWF4IDYwcylcbiIpCiAgICAgICAgaWYgZ2V0X2Nvb2tpZSh0YXJnZXQpOgogICAgICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgICAgIExhdW5jaENGUFJPKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgICAgICB0aW1lci5qb2luKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIgWypdICIrRm9yZS5XSElURSsiRmFpbGVkIHRvIGJ5cGFzcyBjZlxuIikKICAgIGVsaWYgY29tbWFuZCA9PSAiY2Zzb2MiIG9yIGNvbW1hbmQgPT0gIkNGU09DIjoKICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIgWypdICIrRm9yZS5XSElURSsiQnlwYXNzaW5nIENGLi4uIChNYXggNjBzKVxuIikKICAgICAgICBpZiBnZXRfY29va2llKHRhcmdldCk6CiAgICAgICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICAgICAgTGF1bmNoQ0ZTT0ModGFyZ2V0LCB0aHJlYWQsIHQpCiAgICAgICAgICAgIHRpbWVyLmpvaW4oKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiBbKl0gIitGb3JlLldISVRFKyJGYWlsZWQgdG8gYnlwYXNzIGNmXG4iKQogICAgZWxpZiBjb21tYW5kID09ICJweHNreSIgb3IgY29tbWFuZCA9PSAiUFhTS1kiOgogICAgICAgIGlmIGdldF9wcm94aWVzKCk6CiAgICAgICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgICAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1hdHRhY2tTS1ksIGFyZ3M9KHRhcmdldCwgdCwgdGhyZWFkKSkuc3RhcnQoKQogICAgICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJza3kiIG9yIGNvbW1hbmQgPT0gIlNLWSI6CiAgICAgICAgdGFyZ2V0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNygpCiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9YXR0YWNrU1RFTExBUiwgYXJncz0odGFyZ2V0LCB0LCB0aHJlYWQpKS5zdGFydCgpCiAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIGNvbW1hbmQgPT0gInVkcCIgb3IgY29tbWFuZCA9PSAiVURQIjoKICAgICAgICB0YXJnZXQsIHBvcnQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w0KCkKICAgICAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1ydW5zZW5kZXIsIGFyZ3M9KHRhcmdldCwgcG9ydCwgdCwgdGhyZWFkKSkuc3RhcnQoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJ0Y3AiIG9yIGNvbW1hbmQgPT0gIlRDUCI6CiAgICAgICAgdGFyZ2V0LCBwb3J0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNCgpCiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cnVuZmxvb2RlciwgYXJncz0odGFyZ2V0LCBwb3J0LCB0LCB0aHJlYWQpKS5zdGFydCgpCiAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIGNvbW1hbmQgPT0gIm1pbmUiIG9yIGNvbW1hbmQgPT0gIk1JTkUiOgogICAgICAgIHRhcmdldCwgcG9ydCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDQoKQogICAgICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXJ1bm1pbmUsIGFyZ3M9KHRhcmdldCwgcG9ydCwgdCwgdGhyZWFkKSkuc3RhcnQoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBjb21tYW5kID09ICJ2c2UiIG9yIGNvbW1hbmQgPT0gIlZTRSI6CiAgICAgICAgdGFyZ2V0LCBwb3J0LCB0aHJlYWQsIHQgPSBnZXRfaW5mb19sNCgpCiAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9cnVudnNlLCBhcmdzPSh0YXJnZXQsIHBvcnQsIHQsIHRocmVhZCkpLnN0YXJ0KCkKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgY29tbWFuZCA9PSAicmVsb2FkIiBvciBjb21tYW5kID09ICJSRUxPQUQiIG9yIGNvbW1hbmQgPT0gIlJlbG9hZCIgb3IgY29tbWFuZCA9PSAiUmVMT0FEIiBvciBjb21tYW5kID09ICJSZUxvYWQiOgogICAgICAgIG9zLnN5c3RlbSgncHkgbWFpbi5weScpCiAgICBlbGlmIGNvbW1hbmQgPT0gInNtczEiIG9yIGNvbW1hbmQgPT0gIlNtczEiIG9yIGNvbW1hbmQgPT0gIlNtUzEiIG9yIGNvbW1hbmQgPT0gInNNczEiIG9yIGNvbW1hbmQgPT0gIlNNUzEiOgogICAgICAgIG9zLnN5c3RlbSgncHkgc3BhbXZpcC5weScpCiAgICBlbGlmIGNvbW1hbmQgPT0gInNtczIiIG9yIGNvbW1hbmQgPT0gIlNtczIiIG9yIGNvbW1hbmQgPT0gIlNtUzIiIG9yIGNvbW1hbmQgPT0gInNNczIiIG9yIGNvbW1hbmQgPT0gIlNNUzIiOgogICAgICAgIG9zLnN5c3RlbSgncHkgc3BhbXNtcy5weScpCiAgICBlbGlmIGNvbW1hbmQgPT0gInNtczMiIG9yIGNvbW1hbmQgPT0gIlNtczMiIG9yIGNvbW1hbmQgPT0gIlNtUzMiIG9yIGNvbW1hbmQgPT0gInNNczMiIG9yIGNvbW1hbmQgPT0gIlNNUzMiOgogICAgICAgIG9zLnN5c3RlbSgncHkgc3BhbV9zbXMucHknKQogICAgZWxpZiBjb21tYW5kID09ICJzbXM0IiBvciBjb21tYW5kID09ICJTbXM0IiBvciBjb21tYW5kID09ICJTbVM0IiBvciBjb21tYW5kID09ICJzTXM0IiBvciBjb21tYW5kID09ICJTTVM0IjoKICAgICAgICBvcy5zeXN0ZW0oJ3B5IHNtcy5weScpCiAgICBlbGlmIGNvbW1hbmQgPT0gInNtczUiIG9yIGNvbW1hbmQgPT0gIlNtczUiIG9yIGNvbW1hbmQgPT0gIlNtUzUiIG9yIGNvbW1hbmQgPT0gInNNczUiIG9yIGNvbW1hbmQgPT0gIlNNUzUiOgogICAgICAgIG9zLnN5c3RlbSgncHkgc21zOC5weScpCiAgICBlbGlmIGNvbW1hbmQgPT0gImlwIiBvciBjb21tYW5kID09ICJJUCIgb3IgY29tbWFuZCA9PSAiSXAiIG9yIGNvbW1hbmQgPT0gImlQIjoKICAgICAgICAgaXAgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLmlwaWZ5Lm9yZycpLnRleHQuc3RyaXAoKQogICAgICAgICBsb2MgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vaXBhcGkuY29tL2lwX2FwaS5waHA/aXA9JyArIGlwLCBoZWFkZXJzPXsnUmVmZXJlcic6ICdodHRwczovL2lwLWFwaS5jb20vJywgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JywgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMS4yOyBSZWRtaSA0WCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS45MiBNb2JpbGUgU2FmYXJpLzUzNy4zNid9KS5qc29uKClbJ2NvdW50cnlfbmFtZSddLmxvd2VyKCkKICAgICAgICAgcHJpbnQoJ+KYoElQIGPhu6dhIGLhuqFuOiAnK2lwKyfimKBcbicpCiAgICBlbGlmIGNvbW1hbmQgPT0gImxvYyIgb3IgY29tbWFuZCA9PSAiTE9DIiBvciBjb21tYW5kID09ICJMb2MiOgogICAgICAgICBpcCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9hcGkuaXBpZnkub3JnJykudGV4dC5zdHJpcCgpCiAgICAgICAgIGxvYyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9pcGFwaS5jb20vaXBfYXBpLnBocD9pcD0nICsgaXAsIGhlYWRlcnM9eydSZWZlcmVyJzogJ2h0dHBzOi8vaXAtYXBpLmNvbS8nLCAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLCAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4xLjI7IFJlZG1pIDRYKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzcuMC4zODY1LjkyIE1vYmlsZSBTYWZhcmkvNTM3LjM2J30pLmpzb24oKVsnY291bnRyeV9uYW1lJ10ubG93ZXIoKQogICAgICAgICBwcmludCgn4pigTG9jYXRpb246ICcrbG9jKyfimKAnKQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpkZWYgZnVuYygpOgogICAgc3Rkb3V0LndyaXRlKEZvcmUuUkVEKyIgW1x4MWJbMzg7MjswOzI1NTsxODltTEFZRVIgNyIrRm9yZS5SRUQrIl1cbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsiY2ZiICAgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiQnlwYXNzIENGIGF0dGFja1xuIikKICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiDigKIgIitGb3JlLldISVRFKyJweGNmYiAgICAgICIrRm9yZS5SRUQrIjogIitGb3JlLldISVRFKyJCeXBhc3MgQ0YgYXR0YWNrIHdpdGggcHJveHlcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsiY2Zwcm8gICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiQnlwYXNzIENGIFVBTSwgQ0YgQ0FQVENIQSwgQ0YgQkZNLCBDRiBKUyAocmVxdWVzdClcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsiY2Zzb2MgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiQnlwYXNzIENGIFVBTSwgQ0YgQ0FQVENIQSwgQ0YgQkZNLCBDRiBKUyAoc29ja2V0KVxuIikKIyAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsic2t5ICAgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiSFRUUFMgRmxvb2QgYW5kIGJ5cGFzcyBmb3IgQ0YgTm9TZWMsIEREb1MgR3VhcmQgRnJlZSBhbmQgdlNoaWVsZFxuIikKIyAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsic3RlbGxhciAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiSFRUUFMgU2t5IG1ldGhvZCB3aXRob3V0IHByb3hpZXNcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsicmF3ICAgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiUmVxdWVzdCBhdHRhY2tcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsicG9zdCAgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiUG9zdCBSZXF1ZXN0IGF0dGFja1xuIikKICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiDigKIgIitGb3JlLldISVRFKyJoZWFkICAgICAgICIrRm9yZS5SRUQrIjogIitGb3JlLldISVRFKyJIZWFkIFJlcXVlc3QgYXR0YWNrXG4iKQogICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrInNvYyAgICAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIlNvY2tldCBhdHRhY2tcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsicHhyYXcgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiUHJveHkgUmVxdWVzdCBhdHRhY2tcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsicHhzb2MgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiUHJveHkgU29ja2V0IGF0dGFja1xuIikKICAgIAogICAgI3N0ZG91dC53cml0ZShGb3JlLlJFRCsiIFxuWyIrRm9yZS5XSElURSsiTEFZRVIgNCIrRm9yZS5SRUQrIl1cbiIpCiAgICAjc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrInRjcCAgICAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIlN0cm9uZyBUQ1AgYXR0YWNrIChub3Qgc3VwcG9ydGVkKVxuIikKICAgICNzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsidWRwICAgICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiU3Ryb25nIFVEUCBhdHRhY2sgKG5vdCBzdXBwb3J0ZWQpXG4iKQoKICAgIHN0ZG91dC53cml0ZShGb3JlLlJFRCsiIFxuW1x4MWJbMzg7MjswOzI1NTsxODltVE9PTFMiK0ZvcmUuUkVEKyJdXG4iKQogICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrImRucyAgICAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIkNsYXNzaWMgRE5TIExvb2t1cFxuIikKICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiDigKIgIitGb3JlLldISVRFKyJnZW9pcCAgICAgICIrRm9yZS5SRUQrIjogIitGb3JlLldISVRFKyJHZW8gSVAgQWRkcmVzcyBMb29rdXBcbiIpCiAgICBzdGRvdXQud3JpdGUoRm9yZS5NQUdFTlRBKyIg4oCiICIrRm9yZS5XSElURSsic3VibmV0ICAgICAiK0ZvcmUuUkVEKyI6ICIrRm9yZS5XSElURSsiU3VibmV0IElQIEFkZHJlc3MgTG9va3VwXG4iKQogICAgCiAgICBzdGRvdXQud3JpdGUoRm9yZS5SRUQrIiBcbltceDFiWzM4OzI7MDsyNTU7MTg5bU9USEVSIitGb3JlLlJFRCsiXVxuIikKICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiDigKIgIitGb3JlLldISVRFKyJjbGVhci9jbHMgICIrRm9yZS5SRUQrIjogIitGb3JlLldISVRFKyJDbGVhciBjb25zb2xlXG4iKQogICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrImV4aXQgICAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIkJ5ZS4uXG4iKQogICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIOKAoiAiK0ZvcmUuV0hJVEUrImNyZWRpdCAgICAgIitGb3JlLlJFRCsiOiAiK0ZvcmUuV0hJVEUrIlRoYW5rcyBmb3JcbiIpCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgaW5pdChjb252ZXJ0PVRydWUpCiAgICBpZiBsZW4oc3lzLmFyZ3YpIDwgMjoKICAgICAgICB1YSA9IG9wZW4oJy4vcmVzb3VyY2VzL3VhLnR4dCcsICdyJykucmVhZCgpLnNwbGl0KCdcbicpCiAgICAgICAgY2xlYXIoKQogICAgICAgIHRpdGxlKCkKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBjb21tYW5kKCkKICAgIGVsaWYgbGVuKHN5cy5hcmd2KSA9PSA1OgogICAgICAgIHBhc3MKICAgIGVsc2U6CiAgICAgICAgc3Rkb3V0LndyaXRlKCJNZXRob2Q6IGNmYiwgcHhjZmIsIGNmcmVxLCBjZnNvYywgcHhza3ksIHNreSwgaHR0cDIsIHB4aHR0cDIsIGdldCwgcG9zdCwgaGVhZCwgc29jLCBweHJhdywgcHhzb2NcbiIpCiAgICAgICAgc3Rkb3V0LndyaXRlKGYidXNhZ2U6fiMgcHl0aG9uMyB7c3lzLmFyZ3ZbMF19IDxtZXRob2Q+IDx0YXJnZXQ+IDx0aHJlYWQ+IDx0aW1lPlxuIikKICAgICAgICBzeXMuZXhpdCgpCiAgICB1YSA9IG9wZW4oJy4vcmVzb3VyY2VzL3VhLnR4dCcsICdyJykucmVhZCgpLnNwbGl0KCdcbicpCiAgICBtZXRob2QgPSBzeXMuYXJndlsxXS5yc3RyaXAoKQogICAgdGFyZ2V0ID0gc3lzLmFyZ3ZbMl0ucnN0cmlwKCkKICAgIHRocmVhZCA9IHN5cy5hcmd2WzNdLnJzdHJpcCgpCiAgICB0ICAgICAgPSBzeXMuYXJndls0XS5yc3RyaXAoKQogICAgaWYgbWV0aG9kID09ICJjZmIiOgogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaENGQih0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgbWV0aG9kID09ICJweGNmYiI6CiAgICAgICAgaWYgZ2V0X3Byb3hpZXMoKToKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hQWENGQih0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIG1ldGhvZCA9PSAiZ2V0IjoKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hSQVcodGFyZ2V0LCB0aHJlYWQsIHQpCiAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIG1ldGhvZCA9PSAicG9zdCI6CiAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgTGF1bmNoUE9TVCh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgbWV0aG9kID09ICJoZWFkIjoKICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgIHRpbWVyLnN0YXJ0KCkKICAgICAgICBMYXVuY2hIRUFEKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBtZXRob2QgPT0gInB4cmF3IjoKICAgICAgICBpZiBnZXRfcHJveGllcygpOgogICAgICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgICAgIExhdW5jaFBYUkFXKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgbWV0aG9kID09ICJzb2MiOgogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaFNPQyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgbWV0aG9kID09ICJweHNvYyI6CiAgICAgICAgaWYgZ2V0X3Byb3hpZXMoKToKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hQWFNPQyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICBlbGlmIG1ldGhvZCA9PSAiY2ZyZXEiOgogICAgICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiBbKl0gIitGb3JlLldISVRFKyJCeXBhc3NpbmcgQ0YuLi4gKE1heCA2MHMpXG4iKQogICAgICAgIGlmIGdldF9jb29raWUodGFyZ2V0KToKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hDRlBSTyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIFsqXSAiK0ZvcmUuV0hJVEUrIkZhaWxlZCB0byBieXBhc3MgY2ZcbiIpCiAgICBlbGlmIG1ldGhvZCA9PSAiY2Zzb2MiOgogICAgICAgIHN0ZG91dC53cml0ZShGb3JlLk1BR0VOVEErIiBbKl0gIitGb3JlLldISVRFKyJCeXBhc3NpbmcgQ0YuLi4gKE1heCA2MHMpXG4iKQogICAgICAgIGlmIGdldF9jb29raWUodGFyZ2V0KToKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICBMYXVuY2hDRlNPQyh0YXJnZXQsIHRocmVhZCwgdCkKICAgICAgICAgICAgdGltZXIuam9pbigpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3Rkb3V0LndyaXRlKEZvcmUuTUFHRU5UQSsiIFsqXSAiK0ZvcmUuV0hJVEUrIkZhaWxlZCB0byBieXBhc3MgY2ZcbiIpCiAgICBlbGlmIG1ldGhvZCA9PSAiaHR0cDIiOgogICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIExhdW5jaEhUVFAyKHRhcmdldCwgdGhyZWFkLCB0KQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBtZXRob2QgPT0gInB4aHR0cDIiOgogICAgICAgIGlmIGdldF9wcm94aWVzKCk6CiAgICAgICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgICAgICB0aW1lciA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWNvdW50ZG93biwgYXJncz0odCwpKQogICAgICAgICAgICB0aW1lci5zdGFydCgpCiAgICAgICAgICAgIExhdW5jaFBYSFRUUDIodGFyZ2V0LCB0aHJlYWQsIHQpCiAgICAgICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxpZiBtZXRob2QgPT0gInB4c2t5IjoKICAgICAgICBpZiBnZXRfcHJveGllcygpOgogICAgICAgICAgICB0YXJnZXQsIHRocmVhZCwgdCA9IGdldF9pbmZvX2w3KCkKICAgICAgICAgICAgdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9YXR0YWNrU0tZLCBhcmdzPSh0YXJnZXQsIHQsIHRocmVhZCkpLnN0YXJ0KCkKICAgICAgICAgICAgdGltZXIgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1jb3VudGRvd24sIGFyZ3M9KHQsKSkKICAgICAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgICAgICB0aW1lci5qb2luKCkKICAgIGVsaWYgbWV0aG9kID09ICJza3kiOgogICAgICAgIHRhcmdldCwgdGhyZWFkLCB0ID0gZ2V0X2luZm9fbDcoKQogICAgICAgIHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWF0dGFja1NURUxMQVIsIGFyZ3M9KHRhcmdldCwgdCwgdGhyZWFkKSkuc3RhcnQoKQogICAgICAgIHRpbWVyID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9Y291bnRkb3duLCBhcmdzPSh0LCkpCiAgICAgICAgdGltZXIuc3RhcnQoKQogICAgICAgIHRpbWVyLmpvaW4oKQogICAgZWxzZToKICAgICAgICBzdGRvdXQud3JpdGUoIk5vIG1ldGhvZCBmb3VuZC5cbk1ldGhvZDogY2ZiLCBweGNmYiwgY2ZyZXEsIGNmc29jLCBweHNreSwgc2t5LCBodHRwMiwgcHhodHRwMiwgZ2V0LCBwb3N0LCBoZWFkLCBzb2MsIHB4cmF3LCBweHNvY1xuIikK"))